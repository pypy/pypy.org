<!DOCTYPE html>
<html \ prefix="
        og: http://ogp.me/ns# article: http://ogp.me/ns/article#
    " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="A Faster Python">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>PyPy (old posts, page 30) | PyPy</title>
<link href="../assets/css/rst_base.css" rel="stylesheet" type="text/css">
<link href="../assets/css/nikola_rst.css" rel="stylesheet" type="text/css">
<link href="../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="../assets/css/styles.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../rss.xml">
<link rel="canonical" href="https://www.pypy.org/blog/index-30.html">
<link rel="icon" href="../favicon2.ico" sizes="16x16">
<link rel="icon" href="../favicon32x32.ico" sizes="32x32">
<link rel="prev" href="index-31.html" type="text/html">
<link rel="next" href="index-29.html" type="text/html">
<!--[if lt IE 9]><script src="../assets/js/html5shiv-printshiv.min.js"></script><![endif]--><link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="../assets/css/tipuesearch.css">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div id="container">
             <header id="header"><!-- Adapted from https://www.taniarascia.com/responsive-dropdown-navigation-bar --><section class="navigation"><div class="nav-container">
            <div class="brand">
                <a href="../index.html">
                    <image id="toplogo" src="../images/pypy-logo.svg" width="75px;" alt="PyPy/"></image></a>
            </div>
            <nav><ul class="nav-list">
<li> 
                <a href="#!">Features</a>
                <ul class="nav-dropdown">
<li> <a href="../features.html">What is PyPy?</a> </li>  
                    <li> <a href="../compat.html">Compatibility</a> </li>  
                    <li> <a href="../performance.html">Performance</a> </li>  
                </ul>
</li>
          <li> <a href="../download.html">Download</a> </li>  
          <li> <a href="http://doc.pypy.org">Dev Docs</a> </li>  
            <li> 
                <a href="#!">Blog</a>
                <ul class="nav-dropdown">
<li> <a href=".">Index</a> </li>  
                    <li> <a href="../categories/">Tags</a> </li>  
                    <li> <a href="../archive.html">Archive by year</a> </li>  
                    <li> <a href="../rss.xml">RSS feed</a> </li>  
                    <li> <a href="https://morepypy.blogspot.com/">Old site</a> </li>  
                </ul>
</li>
            <li> 
                <a href="#!">About</a>
                <ul class="nav-dropdown">
<li> <a href="https://bsky.app/profile/pypyproject.bsky.social">Bluesky</a> </li>  
                    <li> <a href="https://libera.irclog.whitequark.org/pypy">IRC logs</a> </li>  
                    <li> <a href="https://www.youtube.com/playlist?list=PLADqad94yVqDRQXuqxKrPS5QnVqbDLlRt">YouTube</a> </li>  
                    <li> <a href="https://www.twitch.tv/pypyproject">Twitch</a> </li>  
                    <li> <a href="../pypy-sponsors.html">Sponsors</a> </li>  
                    <li> <a href="../howtohelp.html">How To Help?</a> </li>  
                    <li> <a href="../contact.html">Contact</a> </li>  
                </ul>
</li>

                </ul></nav><div class="nav-mobile">
                <a id="nav-toggle" href="#!"> <span></span></a>
            </div>
        </div>
    </section><div class="searchform" role="search">
                
<form class="navbar-form navbar-left" action="../search.html" role="search">
    <div class="form-group">
        <input type="text" class="form-control" id="tipue_search_input" name="q" placeholder="Search…" autocomplete="off">
</div>
    <input type="submit" value="Local Search" style="visibility: hidden;">
</form>

            </div>
    </header><main id="content"><div class="post">
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/2014/03/numpy-status-update-february-1245769841736493525.html" class="u-url">NumPy on PyPy - Progress in February</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="../authors/brian-kearns.html">Brian Kearns</a>
            </span></p>
            <p class="dateline">
            <a href="../posts/2014/03/numpy-status-update-february-1245769841736493525.html" rel="bookmark">
            <time class="published dt-published" datetime="2014-03-07T05:05:00Z" itemprop="datePublished" title="2014-03-07 05:05">2014-03-07 05:05</time></a>
            </p>
                <p class="commentline">4 comments</p>

        </div>
    </header><div class="p-summary entry-summary">
    <p>More progress was made on the NumPy front in the past month. On the compatibility front, we now pass ~130 more tests from NumPy's suite since the end of January. Currently, we pass 2336 tests out of 3265 tests run, with many of the failures representing portions of NumPy that we don't plan to implement in the near future (object dtypes, unicode, etc). There are still some failures that do represent issues, such as special indexing cases and failures to respect subclassed ndarrays in return values, which we do plan to resolve. There are also some unimplemented components and ufuncs remaining which we hope to implement, such as nditer and mtrand. Overall, the most common array functionality should be working.<br><br>
Additionally, I began to take a look at some of the loops generated by our code. One widely used loop is dot, and we were running about 5x slower than NumPy's C version. I was able to optimize the dot loop and also the general array iterator to get us to ~1.5x NumPy C time on dot operations of various sizes. Further progress in this area could be made by using CFFI to tie into BLAS libraries, when available. Also, work remains in examining traces generated for our other loops and checking for potential optimizations.<br><br>
To try out PyPy + NumPy, grab a <a href="https://buildbot.pypy.org/nightly/trunk/">nightly PyPy</a> and install our <a href="https://bitbucket.org/pypy/numpy">NumPy fork</a>. Feel free to report comments/issues to IRC, our mailing list, or bug tracker. Thanks to the contributors to the <a href="https://pypy.org/numpydonate.html">NumPy on PyPy</a> proposal for supporting this work.<br><br>
Cheers,<br>
Brian</p>
    </div>
    </article><div class="comment-level comment-level-1">
      <div class="comment comment-8790146733040104146">
        <div class="comment-header">
          <a name="comment-8790146733040104146"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2014-03-09 06:05</span>:
        </div>
        <div class="comment-content">
          <p>Thanks! It would be easier to repost this if the title contained pypy: "numpy in pypy - progress in February"</p>
        </div>
      </div>
      <div class="comment comment-1183669846753863350">
        <div class="comment-header">
          <a name="comment-1183669846753863350"></a>
            <span class="author">Canesin</span> wrote on <span class="date">2014-03-17 12:33</span>:
        </div>
        <div class="comment-content">
          <p>It would be great if the first performance optimizations where actually wrapper to BLAS, there is outstanding BSD license BLAS at https://github.com/xianyi/OpenBLAS</p>
        </div>
      </div>
      <div class="comment comment-7940447617385575372">
        <div class="comment-header">
          <a name="comment-7940447617385575372"></a>
            <span class="author">Armin Rigo</span> wrote on <span class="date">2014-03-17 20:50</span>:
        </div>
        <div class="comment-content">
          <p>I believe the "performance optimizations" mentioned in the blog post are unrelated to BLAS.  BLAS is about calling an external library.  You can't optimize that, you just merely call it.  The performance optimizations are about things like computing the matrix "a + b + c", which can be done without computing the intermediate result "a + b".</p>
        </div>
      </div>
      <div class="comment comment-9044514025253666045">
        <div class="comment-header">
          <a name="comment-9044514025253666045"></a>
            <span class="author">Canesin</span> wrote on <span class="date">2014-03-18 11:16</span>:
        </div>
        <div class="comment-content">
          <p>Armin, I agree with you. What I'm trying to say is that maybe to make the BLAS interface is going to be very easy, give great performance and people will use it most of the time if you bundle it.</p>
        </div>
      </div>
         </div>

    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/2014/02/py3k-status-update-13-4630607029125647100.html" class="u-url">Py3k status update #13</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="../authors/philip-jenvey.html">Philip Jenvey</a>
            </span></p>
            <p class="dateline">
            <a href="../posts/2014/02/py3k-status-update-13-4630607029125647100.html" rel="bookmark">
            <time class="published dt-published" datetime="2014-02-18T02:33:00Z" itemprop="datePublished" title="2014-02-18 02:33">2014-02-18 02:33</time></a>
            </p>
                <p class="commentline">1 comment</p>

        </div>
    </header><div class="p-summary entry-summary">
    <p>This is the 13th status update about our work on the <a class="reference external" href="https://bitbucket.org/pypy/pypy/commits/all/tip/branch%28%22py3k%22%29">py3k branch</a>, which we<br>
can work on thanks to all of the people who <a class="reference external" href="../posts/2012/01/py3k-and-numpy-first-stage-thanks-to-3008917396290059758.html">donated</a> to the <a class="reference external" href="https://pypy.org/py3donate.html">py3k proposal</a>.</p>
<p>We're just finishing up a cleanup of int/long types. This work helps the py3k<br>
branch unify these types into the Python 3 int and restore <a class="reference external" href="../posts/2013/11/py3k-status-update-12-5307085693947812769.html">JIT compilation of<br>
machine sized integers</a>.</p>
<p>This cleanup also removes <a class="reference external" href="https://doc.pypy.org/en/latest/objspace.html#multimethods">multimethods</a> from these types. PyPy has<br>
historically used a clever implementation of multimethod dispatch for declaring<br>
methods of the __builtin__ types in RPython.</p>
<p>This multimethod scheme provides some convenient features for doing this,<br>
however we've come to the conclusion that it may be more trouble than it's<br>
worth. A major problem of multimethods is that they generate a large amount of<br>
stub methods which burden the already lengthy and memory hungry RPython<br>
translation process. Also, their implementation and behavior can be somewhat<br>
complicated/obscure.</p>
<p>The alternative to multimethods involves doing the work of the type checking<br>
and dispatching rules in a more verbose, manual way. It's a little more work in<br>
the end but less magical.</p>
<p>Recently, Manuel Jacob finished a large cleanup effort of the<br>
unicode/string/bytearray types that also removed their multimethods. This work<br>
also benefits the py3k branch: it'll help with future <a class="reference external" href="https://www.python.org/dev/peps/pep-0393/">PEP 393</a> (or <a class="reference external" href="https://lucumr.pocoo.org/2014/1/9/ucs-vs-utf8/">PEP 393<br>
alternative</a>) work. This effort was partly sponsored by Google's Summer of<br>
Code: thanks Manuel and Google!</p>
<p>Now there's only a couple major pieces left in the multimethod removal (the<br>
float/complex types and special marshaling code) and a few minor pieces that<br>
should be relatively easy.</p>
<p>In conclusion, there's been some good progress made on py3k and multimethod<br>
removal this winter, albeit a bit slower than we would have liked.</p>
<p>cheers,<br>
Phil</p>
    </div>
    </article><div class="comment-level comment-level-1">
      <div class="comment comment-8510942446801341335">
        <div class="comment-header">
          <a name="comment-8510942446801341335"></a>
            <span class="author">Armin Rigo</span> wrote on <span class="date">2014-02-18 09:41</span>:
        </div>
        <div class="comment-content">
          <p>The str/unicode/bytearray refactoring is <a href="https://bugs.pypy.org/issue1695" rel="nofollow">not completely done yet.</a></p>
        </div>
      </div>
         </div>

    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/2014/02/rewrites-of-stm-core-model-again-633249729751034512.html" class="u-url">Rewrites of the STM core model -- again</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="../authors/armin-rigo.html">Armin Rigo</a>
            </span></p>
            <p class="dateline">
            <a href="../posts/2014/02/rewrites-of-stm-core-model-again-633249729751034512.html" rel="bookmark">
            <time class="published dt-published" datetime="2014-02-09T22:16:00Z" itemprop="datePublished" title="2014-02-09 22:16">2014-02-09 22:16</time></a>
            </p>
                <p class="commentline">6 comments</p>

        </div>
    </header><div class="p-summary entry-summary">
    <p>Hi all,</p>

<p>A quick note about the Software Transactional Memory (STM) front.</p>

<p>Since the <a href="../posts/2013/10/update-on-stm-7145890443443707910.html">previous
post</a>, we believe we progressed a lot by discovering an alternative
core model for software transactions.  Why do I say "believe"?  It's
because it means <i>again</i> that we have to rewrite from scratch the C
library handling STM.  This is currently work in progress.  Once this is
done, we should be able to adapt the existing pypy-stm to run on top of
it without much rewriting efforts; in fact it should simplify the
difficult issues we ran into for the JIT.  So while this is basically
yet another restart similar to <a href="../posts/2013/06/stm-on-drawing-board-1028082727566254104.html">last
June's</a>, the difference is that the work that we have already put in the PyPy
part (as opposed to the C library) remains.</p>

<p>You can read about the basic ideas of this new C library <a href="https://bitbucket.org/pypy/stmgc/raw/c7/c7/README.txt">here</a>.
It is still STM-only, not HTM, but because it doesn't constantly move
objects around in memory, it would be easier to adapt an HTM version.
There are even potential ideas about a hybrid TM, like using HTM but
only to speed up the commits.  It is based on a <a href="https://bpaste.net/show/177186/">Linux-only</a> system call, <a href="https://man7.org/linux/man-pages/man2/remap_file_pages.2.html">remap_file_pages()</a>
(poll: who heard about it before? :-).  As previously, the work is done
by Remi Meier and myself.</p>

<p>Currently, the C library is incomplete, but early experiments show good
results in running <a href="../posts/2013/07/software-transactional-memory-lisp-7777576128992250197.html">duhton</a>,
the interpreter for a minimal language created for the purpose of
testing STM.  Good results means we brought down the slow-downs from
60-80% (previous version) to around 15% (current version).  This number
measures the slow-down from the non-STM-enabled to the STM-enabled
version, on one CPU core; of course, the idea is that the STM version
scales up when using more than one core.</p>

<p>This means that we are looking forward to a result that is much better
than originally predicted.  The pypy-stm has chances to run at a
one-thread speed that is only "n%" slower than the regular pypy-jit, for
a value of "n" that is optimistically 15 --- but more likely some number
around 25 or 50.  This is seriously better than the original estimate,
which was "between 2x and 5x".  It would mean that using pypy-stm is
quite worthwhile even with just two cores.</p>

<p>More updates later...</p>

<p>Armin</p>
    </div>
    </article><div class="comment-level comment-level-1">
      <div class="comment comment-7492470447096797635">
        <div class="comment-header">
          <a name="comment-7492470447096797635"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2014-02-10 17:29</span>:
        </div>
        <div class="comment-content">
          <p>Did you consider existing STM libraries in your implementation? It might be worthwhile to take a look at stasis (https://code.google.com/p/stasis/) which has a pretty complete set of features.<br><br>https://www.eecs.berkeley.edu/Pubs/TechRpts/2010/EECS-2010-2.pdf</p>
        </div>
      </div>
      <div class="comment comment-5891185509479983864">
        <div class="comment-header">
          <a name="comment-5891185509479983864"></a>
            <span class="author">Armin Rigo</span> wrote on <span class="date">2014-02-10 20:22</span>:
        </div>
        <div class="comment-content">
          <p>Statis is not really applicable here: it's a Transactional Storage system, which despite the attempt of this paper to generalize it, is not going to apply successfully in the context of PyPy.</p>
        </div>
      </div>
      <div class="comment comment-7838458641145905514">
        <div class="comment-header">
          <a name="comment-7838458641145905514"></a>
            <span class="author">Armin Rigo</span> wrote on <span class="date">2014-02-10 20:22</span>:
        </div>
        <div class="comment-content">
          <p>More comments <a href="https://news.ycombinator.com/item?id=7211469" rel="nofollow">on Hacker News</a>.</p>
        </div>
      </div>
      <div class="comment comment-2999788340616377387">
        <div class="comment-header">
          <a name="comment-2999788340616377387"></a>
            <span class="author">Dima Tisnek</span> wrote on <span class="date">2014-02-11 13:32</span>:
        </div>
        <div class="comment-content">
          <p>poll response: I've heard of remap_file_pages! :)<br><br>I was wondering how to use this call when I learnt of it, but couldn't figure anything out except possibly database applications (similar) and sort algorithms (too limited). I think this call may be used when manipulating framebuffer too, there was something about having multiple mappings [to hardware] some readonly, some not.<br><br>I would like to [possibly] disagree with your statement in c7 README "Most probably, this comes with no overhead once the change is done..."<br><br>TLB cache is a limited resource and may easily be contended on large systems. Regular mmap could [in theory] use huge TLB pages, remapped individual pages cannot.<br><br>In addition there is a small penalty during first access to the remapped page, though you may consider it amortized depending on remap/reuse ratio.<br><br>Granted it's still small stuff.<br><br>Reserving one register is is a cool trick, and I find quite acceptable. It too has a small penalty, but the benefits surely outweigh those!</p>
        </div>
      </div>
      <div class="comment comment-7269369382393696667">
        <div class="comment-header">
          <a name="comment-7269369382393696667"></a>
            <span class="author">Armin Rigo</span> wrote on <span class="date">2014-02-11 13:39</span>:
        </div>
        <div class="comment-content">
          <p>@Dina: Thanks for the feedback! Note that "%gs" is a special register that is usually not used: there is no direct way to read/write its actual value.  It needs to be done with a syscall, at least before very recent CPUs. It can only be used in addressing instructions as an additional offset.</p>
        </div>
      </div>
      <div class="comment comment-7846535471796589532">
        <div class="comment-header">
          <a name="comment-7846535471796589532"></a>
            <span class="author">Arne Babenhauserheide</span> wrote on <span class="date">2014-02-21 08:04</span>:
        </div>
        <div class="comment-content">
          <p>just 15% slower sounds wonderful!</p>
        </div>
      </div>
         </div>

    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/2014/02/numpy-status-update-decemberjanuary-4292961614234099787.html" class="u-url">NumPy Status Update - December/January</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="../authors/brian-kearns.html">Brian Kearns</a>
            </span></p>
            <p class="dateline">
            <a href="../posts/2014/02/numpy-status-update-decemberjanuary-4292961614234099787.html" rel="bookmark">
            <time class="published dt-published" datetime="2014-02-06T19:06:00Z" itemprop="datePublished" title="2014-02-06 19:06">2014-02-06 19:06</time></a>
            </p>
                <p class="commentline">5 comments</p>

        </div>
    </header><div class="p-summary entry-summary">
    <p>Work continued on the NumPy + PyPy front steadily in December and more lightly in January. The continued focus was compatibility, targeting incorrect or unimplemented features that appeared in multiple NumPy test suite failures. We now pass ~2/3 of the NumPy test suite. The biggest improvements were made in these areas:<br><br>
- Bugs in conversions of arrays/scalars to/from native types<br>
- Fix cases where we would choose incorrect dtypes when initializing or computing results<br>
- Improve handling of subclasses of ndarray through computations<br>
- Support some optional arguments for array methods that are used in the pure-python part of NumPy<br>
- Support additional attributes in arrays, array.flags, and dtypes<br>
- Fix some indexing corner cases that arise in NumPy testing<br>
- Implemented part of numpy.fft (cffti and cfftf)<br><br>
Looking forward, we plan to continue improving the correctness of the existing implemented NumPy functionality, while also beginning to look at performance. The initial focus for performance will be to look at areas where we are significantly worse than CPython+NumPy. Those interested in trying these improvements out will need a <a href="https://buildbot.pypy.org/nightly/trunk/">PyPy nightly</a>, and an install of the <a href="https://bitbucket.org/pypy/numpy">PyPy NumPy fork</a>. Thanks again to the <a href="https://pypy.org/numpydonate.html">NumPy on PyPy</a> donors for funding this work.</p>
    </div>
    </article><div class="comment-level comment-level-1">
      <div class="comment comment-3600973835239184085">
        <div class="comment-header">
          <a name="comment-3600973835239184085"></a>
            <span class="author">Anatoly Vostryakov</span> wrote on <span class="date">2014-02-06 21:38</span>:
        </div>
        <div class="comment-content">
          <p>Many thanks for your work! Looking forward to support a full functionality of numpy in pypy!</p>
        </div>
      </div>
      <div class="comment comment-7554591981231053953">
        <div class="comment-header">
          <a name="comment-7554591981231053953"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2014-02-06 22:21</span>:
        </div>
        <div class="comment-content">
          <p>&gt; We now pass ~2/3 of the NumPy test suite.<br><br>Is the test coverage of numpy high enough so that a 100% green numpypy can be considered a full port? (Honest question, I have no background information suggesting the opposite.)</p>
        </div>
      </div>
      <div class="comment comment-1911036733083444104">
        <div class="comment-header">
          <a name="comment-1911036733083444104"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2014-02-08 18:58</span>:
        </div>
        <div class="comment-content">
          <p>Great news that you are making progress on numpy. I can't wait!</p>
        </div>
      </div>
      <div class="comment comment-4176313061641397600">
        <div class="comment-header">
          <a name="comment-4176313061641397600"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2014-02-13 14:57</span>:
        </div>
        <div class="comment-content">
          <p>I can't wait to use Numpypy to speed up scientific analysis. <br><br>Are there any updates on using numpypy with a plotting package such as matplotlib?</p>
        </div>
      </div>
      <div class="comment comment-3554462371800918955">
        <div class="comment-header">
          <a name="comment-3554462371800918955"></a>
            <span class="author">Armin Rigo</span> wrote on <span class="date">2014-02-18 13:43</span>:
        </div>
        <div class="comment-content">
          <p>https://mail.python.org/pipermail/pypy-dev/2014-February/012209.html</p>
        </div>
      </div>
         </div>

    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/2013/12/numpy-status-update-november-364321959153372759.html" class="u-url">NumPy Status Update - November</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="../authors/brian-kearns.html">Brian Kearns</a>
            </span></p>
            <p class="dateline">
            <a href="../posts/2013/12/numpy-status-update-november-364321959153372759.html" rel="bookmark">
            <time class="published dt-published" datetime="2013-12-09T23:05:00Z" itemprop="datePublished" title="2013-12-09 23:05">2013-12-09 23:05</time></a>
            </p>
                <p class="commentline">1 comment</p>

        </div>
    </header><div class="p-summary entry-summary">
    <p>Since the PyPy 2.2 release last month, more progress has been made on the NumPy compatibility front. Initial work has been directed by running the NumPy test suite and targeting failures that appear most frequently, along with fixing the few bugs reported on the bug tracker.<br><br>
Improvements were made in these areas:<br>
- Many missing/broken scalar functionalities were added/fixed. The scalar API should match up more closely with arrays now.<br>
- Some missing dtype functionality was added (newbyteorder, hasobject, descr, etc)<br>
- Support for optional arguments (axis, order) was added to some ndarray functions<br>
- Fixed some corner cases for string/record types<br><br>
Most of these improvements went onto trunk after 2.2 was split, so if you're interested in trying them out or running into problems on 2.2, try the
<a href="https://buildbot.pypy.org/nightly/trunk/">nightly</a>.<br><br>
Thanks again to the <a href="https://pypy.org/numpydonate.html">NumPy on PyPy</a> donors who make this continued progress possible.<br><br>
Cheers,<br>
Brian</p>
    </div>
    </article><div class="comment-level comment-level-1">
      <div class="comment comment-5926749004120121471">
        <div class="comment-header">
          <a name="comment-5926749004120121471"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2013-12-17 13:45</span>:
        </div>
        <div class="comment-content">
          <p>This is fantastic news! I can't wait until I can run my numpy scripts under pypy as easily as I can my standard python scripts.</p>
        </div>
      </div>
         </div>

    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/2013/12/pygame-cffi-8991437796535033699.html" class="u-url">PyGame CFFI</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="../authors/maciej-fijalkowski.html">Maciej Fijalkowski</a>
            </span></p>
            <p class="dateline">
            <a href="../posts/2013/12/pygame-cffi-8991437796535033699.html" rel="bookmark">
            <time class="published dt-published" datetime="2013-12-09T12:01:00Z" itemprop="datePublished" title="2013-12-09 12:01">2013-12-09 12:01</time></a>
            </p>
                <p class="commentline">12 comments</p>

        </div>
    </header><div class="p-summary entry-summary">
    <div dir="ltr" style="text-align: left;">

<p>One of the RaspberryPi's goals is to be a fun toolkit for school children (and adults!) to learn programming and electronics with. Python and <a class="reference external" href="https://www.pygame.org">pygame</a> are part of this toolkit. Recently the RaspberryPi Foundation <a class="reference external" href="../posts/2013/05/pypy-20-alpha-for-arm-2318299473927531503.html">funded</a> parts of the effort of porting of <a class="reference external" href="https://pypy.org/">pypy</a> to the Pi -- making Python programs on the Pi faster!</p>
<p>Unfortunately pygame is written as a Python C extension that wraps <a class="reference external" href="https://www.libsdl.org/">SDL</a> which means performance of pygame under pypy remains mediocre. To fix this pygame needs to be rewritten using <a class="reference external" href="https://cffi.readthedocs.org">cffi</a> to wrap SDL instead.</p>
<p>RaspberryPi sponsored a <a class="reference external" href="https://ctpug.org.za/wiki/Meeting20131207">CTPUG (Cape Town Python User Group)</a> hackathon to put together a proof-of-concept pygame-cffi. The day was quite successful - we got a basic version of the bub'n'bros client working on pygame-cffi (and on PyPy). The results can be found <a class="reference external" href="https://github.com/CTPUG/pygame_cffi">on github</a> with contributions from the five people present at the sprint.</p>
<p>While far from complete, the proof of concept does show that there are no major obstacles to porting pygame to cffi and that cffi is a great way to bind your Python package to C libraries.</p>
<p>Amazingly, we managed to have machines running all three major platforms (OS X, Linux and Windows) at the hackathon so the code runs on all of them!</p>
<p>We would like to thank the Praekelt foundation for providing the venue and The Raspberry Pi foundation for providing food and drinks!</p>
<p>Cheers,<br>
Simon Cross, Jeremy Thurgood, Neil Muller, David Sharpe and fijal.</p>
<br>
</div>
    </div>
    </article><div class="comment-level comment-level-1">
      <div class="comment comment-93479120066049060">
        <div class="comment-header">
          <a name="comment-93479120066049060"></a>
            <span class="author">René Dudfield</span> wrote on <span class="date">2013-12-09 14:21</span>:
        </div>
        <div class="comment-content">
          <p>Why not use the ctypes based pysdl2?</p>
        </div>
      </div>
      <div class="comment comment-8697478015080602775">
        <div class="comment-header">
          <a name="comment-8697478015080602775"></a>
            <span class="author">Maciej Fijalkowski</span> wrote on <span class="date">2013-12-09 16:19</span>:
        </div>
        <div class="comment-content">
          <p>first of all pygame depends on SDL 1. Second ctypes kinda suck and I don't quite buy it's stability (especially with changing APIs, though it can be less of an issue with SDL). It's also slow on pypy</p>
        </div>
      </div>
      <div class="comment comment-8307997717235489041">
        <div class="comment-header">
          <a name="comment-8307997717235489041"></a>
            <span class="author">René Dudfield</span> wrote on <span class="date">2013-12-09 17:09</span>:
        </div>
        <div class="comment-content">
          <p>Ah, ok.  Very nice work anyway.  It's impressive what you all managed to get done in the sprint :)<br><br>Here's some information from pygame land about where the project is heading.<br><br>SDL 1 is the past, and the SDL developers are no longer putting out releases.  However, I think many people will continue to patch it up for many years. SDL 2 is the future and after many years finally has a release out (2 now).  pysdl2 is part of the future of pygame.  pysdl2 matches the SDL 2 API as closely as possible.  A pygame API ontop of pysdl2 is the future of pygame.<br><br>ctypes is no good for some platforms like iOS, and the web and pypy apparently.  Although note, that pysdl2 already 'works' on top of pypy.<br><br>https://bitbucket.org/marcusva/py-sdl2/<br>https://pysdl2.readthedocs.org/en/latest/<br><br><br>Happy hacking :)</p>
        </div>
      </div>
      <div class="comment comment-1363659605254490013">
        <div class="comment-header">
          <a name="comment-1363659605254490013"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2013-12-09 18:56</span>:
        </div>
        <div class="comment-content">
          <p>Amazing - you consider a messy cffi implementation (sometimes it builds on platform X, sometimes it does not, sometimes it works, sometimes it does not) a better choice over ctypes?<br><br></p>
        </div>
      </div>
      <div class="comment comment-72301104336864211">
        <div class="comment-header">
          <a name="comment-72301104336864211"></a>
            <span class="author">Maciej Fijalkowski</span> wrote on <span class="date">2013-12-09 19:16</span>:
        </div>
        <div class="comment-content">
          <p>@Anonymous - your comment is pretty loaded, but we do think cffi is better than ctypes on all platforms, that's why we came up with cffi in the first place. I think cffi FAQ contains an answer to that.</p>
        </div>
      </div>
      <div class="comment comment-1102948970700647755">
        <div class="comment-header">
          <a name="comment-1102948970700647755"></a>
            <span class="author">Armin Rigo</span> wrote on <span class="date">2013-12-10 09:30</span>:
        </div>
        <div class="comment-content">
          <p>@Rene: if pysdl2 is a bare-metal ctypes wrapper, writing a similar cffi wrapper instead should be very straightforward (even more than the current pygame-cffi).  But do you know if pygame is really going that route, and if so, how soon?</p>
        </div>
      </div>
      <div class="comment comment-5804156039653196645">
        <div class="comment-header">
          <a name="comment-5804156039653196645"></a>
            <span class="author">Unknown</span> wrote on <span class="date">2013-12-10 23:33</span>:
        </div>
        <div class="comment-content">
          <p>I've been looking at cffi since it was first mentioned on our Pygame mailing list. It does look promising. I see only two, buffer related, issues that need to be resolved.<br><br>First, PyPy lacks an array export mechanism comparable to the <a href="https://www.python.org/dev/peps/pep-3118/" rel="nofollow">CPython PEP 3113 buffer protocol</a>. Instead, only the <a href="https://docs.scipy.org/doc/numpy/reference/arrays.interface.html" rel="nofollow">NumPy Array Interface, version: 3</a> is available. Though Pygame supports both the Python and C sides of the interface, it relies on CPython's reference counting for timely buffer release [1]. Periodic garbage collection is too unpredictable.<br><br>Second, the cffi module does not support CPython api function calls. So a cffi Pygame could not support the buffer protocol on CPython.<br><br>A possible solution to the first issue is for PyPy to use an extended array interface that includes a PEP 3118 like buffer release callback. I am working to resolve the second issue: <a href="https://bugs.python.org/issue13797" rel="nofollow">[Issue13797] Allow objects implemented in pure Python to export PEP 3118 buffers</a>.<br><br>[1] <a href="https://bitbucket.org/pygame/pygame/issue/173/add-pep-3118-new-buffer-support-to-pygame" rel="nofollow">Add PEP 3118 (new) buffer support to Pygame surfaces</a></p>
        </div>
      </div>
      <div class="comment comment-2637463123987926345">
        <div class="comment-header">
          <a name="comment-2637463123987926345"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2013-12-15 21:32</span>:
        </div>
        <div class="comment-content">
          <p>Hm, I can't get this to work on Ubuntu 12.04 doing the following<br><br>virtualenv -p /usr/bin/pypy pypy<br>cd pypy<br>source bin/activate<br>pip install git+https://github.com/eliben/pycparser.git<br>pip install hg+https://github.com/eliben/pycparser.git<br>pip install hg+https://foss.heptapod.net/cffi/cffi<br>git clone https://github.com/CTPUG/pygame_cffi.git<br>cd pygame_cffi/<br>pypy<br>import pygame<br><br>&gt;&gt;&gt;&gt; import pygame<br>Traceback (most recent call last):<br>  File "", line 1, in <br>  File "pygame/__init__.py", line 9, in <br>    from pygame.color import Color<br>  File "pygame/color.py", line 3, in <br>    from pygame._sdl import ffi, sdl<br>  File "pygame/_sdl.py", line 6, in <br>    ffi = cffi.FFI()<br>  File "/home/me/Documents/python/pygame/pypy/site-packages/cffi/api.py", line 56, in __init__<br>    import _cffi_backend as backend<br>ImportError: No module named _cffi_backend<br><br><br>dpkg -l pypy<br>...<br>ii  pypy 1.8+dfsg-2 fast alternative implementation of Python - PyPy interpreter<br><br><br>Do I need a newer pypy? Am I missing something else?</p>
        </div>
      </div>
      <div class="comment comment-8171300135277937241">
        <div class="comment-header">
          <a name="comment-8171300135277937241"></a>
            <span class="author">Maciej Fijalkowski</span> wrote on <span class="date">2013-12-15 21:48</span>:
        </div>
        <div class="comment-content">
          <p>yes, you need a vastly newer pypy</p>
        </div>
      </div>
      <div class="comment comment-3302784970994723150">
        <div class="comment-header">
          <a name="comment-3302784970994723150"></a>
            <span class="author">Unknown</span> wrote on <span class="date">2013-12-16 18:49</span>:
        </div>
        <div class="comment-content">
          <p>I am +1 on porting PySDL2 to CFFI instead of pygame.</p>
        </div>
      </div>
      <div class="comment comment-4288276301349433188">
        <div class="comment-header">
          <a name="comment-4288276301349433188"></a>
            <span class="author">Unknown</span> wrote on <span class="date">2016-05-03 01:01</span>:
        </div>
        <div class="comment-content">
          <br>great! what's current status of it?  I really can't wait to use Pygame on a PI through pypy.
        </div>
      </div>
      <div class="comment comment-3790436937814351045">
        <div class="comment-header">
          <a name="comment-3790436937814351045"></a>
            <span class="author">Armin Rigo</span> wrote on <span class="date">2016-05-04 10:16</span>:
        </div>
        <div class="comment-content">
          <p>Development occurs at https://github.com/CTPUG/pygame_cffi nowadays.</p>
        </div>
      </div>
         </div>

    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/2013/11/pypy-leysin-winter-sprint-11-19st-8860782754173653661.html" class="u-url">PyPy Leysin Winter Sprint (11-19st January 2014)</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="../authors/armin-rigo.html">Armin Rigo</a>
            </span></p>
            <p class="dateline">
            <a href="../posts/2013/11/pypy-leysin-winter-sprint-11-19st-8860782754173653661.html" rel="bookmark">
            <time class="published dt-published" datetime="2013-11-30T08:57:00Z" itemprop="datePublished" title="2013-11-30 08:57">2013-11-30 08:57</time></a>
            </p>
                <p class="commentline">2 comments</p>

        </div>
    </header><div class="p-summary entry-summary">
    <p>The next PyPy sprint will be in Leysin, Switzerland, for the ninth time.
This is a fully public sprint: newcomers and topics other than those
proposed below are welcome.</p>
<h3>Goals and topics of the sprint</h3>
<ul class="simple">
<li>Py3k: work towards supporting Python 3 in PyPy</li>
<li>NumPyPy: work towards supporting the numpy module in PyPy</li>
<li>STM: work towards supporting Software Transactional Memory</li>
<li>And as usual, the main side goal is to have fun in winter sports :-)
We can take a day off for ski.</li>
</ul>
<br><h3>Exact times</h3>
<p>For a change, and as an attempt to simplify things, I specified the
dates as 11-19 January 2014, where 11 and 19 are travel days.  We will
work full days between the 12 and the 18.  You are of course allowed to
show up for a part of that time only, too.</p>
<h3>Location &amp; Accomodation</h3>
<p>Leysin, Switzerland, "same place as before".  Let me refresh your
memory: both the sprint venue and the lodging will be in a very spacious
pair of chalets built specifically for bed &amp; breakfast:
<a class="reference external" href="https://www.ermina.ch/">https://www.ermina.ch/</a>.  The place has a good ADSL Internet connexion
with wireless installed.  You can of course arrange your own lodging
anywhere (as long as you are in Leysin, you cannot be more than a 15
minutes walk away from the sprint venue), but I definitely recommend
lodging there too -- you won't find a better view anywhere else (though
you probably won't get much worse ones easily, either :-)</p>
<p>Please <em>confirm</em> that you are coming so that we can adjust the
reservations as appropriate.  The rate so far has been around 60 CHF a
night all included in 2-person rooms, with breakfast.  There are larger
rooms too (less expensive per person) and maybe the possibility to get a
single room if you really want to.</p>
<p>Please register by Mercurial:</p>
<pre class="literal-block">
https://bitbucket.org/pypy/extradoc/
https://foss.heptapod.net/pypy/extradoc/-/blob/branch/default/extradoc/sprintinfo/leysin-winter-2014
</pre>
<p>or on the pypy-dev mailing list if you do not yet have check-in rights:</p>
<blockquote>
<a class="reference external" href="https://mail.python.org/mailman/listinfo/pypy-dev">https://mail.python.org/mailman/listinfo/pypy-dev</a>
</blockquote>
<p>You need a Swiss-to-(insert country here) power adapter.  There will be
some Swiss-to-EU adapters around -- bring a EU-format power strip if you
have one.</p>
    </div>
    </article><div class="comment-level comment-level-1">
      <div class="comment comment-2637673891645393577">
        <div class="comment-header">
          <a name="comment-2637673891645393577"></a>
            <span class="author">Pim</span> wrote on <span class="date">2014-01-29 11:57</span>:
        </div>
        <div class="comment-content">
          <p>Very interested to know how far you got, especially STM</p>
        </div>
      </div>
      <div class="comment comment-632187651190560598">
        <div class="comment-header">
          <a name="comment-632187651190560598"></a>
            <span class="author">Armin Rigo</span> wrote on <span class="date">2014-01-29 21:24</span>:
        </div>
        <div class="comment-content">
          <p>I'll do a proper post about STM, but in the meantime: we progressed on STM-C7, without hitting an obstacle so far, so hopes are high :-)</p>
        </div>
      </div>
         </div>

    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/2013/11/pypy-221-incrementalism1-9197847629771910947.html" class="u-url">PyPy 2.2.1 - Incrementalism.1</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="../authors/armin-rigo.html">Armin Rigo</a>
            </span></p>
            <p class="dateline">
            <a href="../posts/2013/11/pypy-221-incrementalism1-9197847629771910947.html" rel="bookmark">
            <time class="published dt-published" datetime="2013-11-27T14:00:00Z" itemprop="datePublished" title="2013-11-27 14:00">2013-11-27 14:00</time></a>
            </p>
                <p class="commentline">2 comments</p>

        </div>
    </header><div class="p-summary entry-summary">
    <p>We're pleased to announce PyPy 2.2.1, which targets version 2.7.3 of the Python
language. This is a bugfix release over 2.2.</p>
<p>You can download the PyPy 2.2.1 release here:</p>
<blockquote>
<a class="reference external" href="https://pypy.org/download.html">https://pypy.org/download.html</a>
</blockquote>
<h3>What is PyPy?</h3>
<p>PyPy is a very compliant Python interpreter, almost a drop-in replacement for
CPython 2.7. It's fast (<a class="reference external" href="https://speed.pypy.org">pypy 2.2 and cpython 2.7.2</a> performance comparison)
due to its integrated tracing JIT compiler.</p>
<p>This release supports x86 machines running Linux 32/64, Mac OS X 64, Windows
32, or ARM (ARMv6 or ARMv7, with VFPv3).</p>
<p>Work on the native Windows 64 is still stalling, we would welcome a volunteer
to handle that.</p>
<h3>Highlights</h3>
<p>This is a bugfix release.  The most important bugs fixed are:</p>
<ul class="simple">
<li>an issue in sockets' reference counting emulation, showing up
notably when using the ssl module and calling <tt class="docutils literal">makefile()</tt>.</li>
<li>Tkinter support on Windows.</li>
<li>If sys.maxunicode==65535 (on Windows and maybe OS/X), the json
decoder incorrectly decoded surrogate pairs.</li>
<li>some FreeBSD fixes.</li>
</ul>
<p>Note that CFFI 0.8.1 was released.  Both versions 0.8 and 0.8.1 are
compatible with both PyPy 2.2 and 2.2.1.</p>
<p>Cheers,
Armin Rigo &amp; everybody</p>
    </div>
    </article><div class="comment-level comment-level-1">
      <div class="comment comment-8593590743618223659">
        <div class="comment-header">
          <a name="comment-8593590743618223659"></a>
            <span class="author">renaud</span> wrote on <span class="date">2013-11-27 15:06</span>:
        </div>
        <div class="comment-content">
          <p>what about pypy3-2.2?<br>by the way, thank you!</p>
        </div>
      </div>
      <div class="comment comment-8290969852470849871">
        <div class="comment-header">
          <a name="comment-8290969852470849871"></a>
            <span class="author">Armin Rigo</span> wrote on <span class="date">2013-11-28 08:58</span>:
        </div>
        <div class="comment-content">
          <p>Waiting for answers from https://mail.python.org/pipermail/pypy-dev/2013-November/011965.html.</p>
        </div>
      </div>
         </div>

    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/2013/11/cffi-08-6086756821078041950.html" class="u-url">CFFI 0.8</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="../authors/armin-rigo.html">Armin Rigo</a>
            </span></p>
            <p class="dateline">
            <a href="../posts/2013/11/cffi-08-6086756821078041950.html" rel="bookmark">
            <time class="published dt-published" datetime="2013-11-17T09:31:00Z" itemprop="datePublished" title="2013-11-17 09:31">2013-11-17 09:31</time></a>
            </p>
            
        </div>
    </header><div class="p-summary entry-summary">
    <p>Hi all,</p>

<p>CFFI 0.8 for CPython (2.6-3.x) has been released.</p>

<p>Quick download: pip install cffi --upgrade
<br>Documentation: <a href="https://cffi.readthedocs.org/en/release-0.8/">https://cffi.readthedocs.org/en/release-0.8/</a></p>

<p>What's new: a number of small fixes; <code>ffi.getwinerror()</code>; integrated support for C99 variable-sized structures; multi-thread safety.</p>

<p>--- Armin</p>

<p><b>Update:</b> CFFI 0.8.1, with fixes on Python 3 on OS/X, and some FreeBSD fixes (thanks Tobias).</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/2013/11/numpy-status-update-1609808546418002632.html" class="u-url">NumPy status update</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="../authors/romain-guillebert.html">Romain Guillebert</a>
            </span></p>
            <p class="dateline">
            <a href="../posts/2013/11/numpy-status-update-1609808546418002632.html" rel="bookmark">
            <time class="published dt-published" datetime="2013-11-15T19:30:00Z" itemprop="datePublished" title="2013-11-15 19:30">2013-11-15 19:30</time></a>
            </p>
                <p class="commentline">5 comments</p>

        </div>
    </header><div class="p-summary entry-summary">
    <span style="font-family: inherit;">Here is what has been happening with NumPy in PyPy in October thanks to the people who donated to the </span><a href="https://pypy.org/numpydonate.html" style="font-family: inherit;" target="_blank">NumPyPy proposal</a><span style="font-family: inherit;">:</span><br><span style="font-family: inherit;"><br></span> <span style="font-family: inherit;">The biggest change is that we shifted to using an <a href="https://bitbucket.org/pypy/numpy" target="_blank">external fork of numpy</a> rather than a minimal numpypy module. The idea is that we will be able to </span>reuse<span style="font-family: inherit;"> most of the upstream pure-python numpy components, replacing the C modules with appropriate RPython micronumpy pieces at the correct places in the module namespace.</span><br><span style="font-family: inherit;"><br></span> <span style="font-family: inherit;">The numpy fork should work just as well as the old numpypy for functionality that existed previously, and also include much new functionality from the pure-python numpy pieces that simply hadn't been imported yet in numpypy. However, this new functionality will not have been "hand picked" to only include pieces that work, so you may run into functionality that relies on unimplemented components (which should fail with user-level exceptions).</span><br><span style="font-family: inherit;"><br></span> <span style="font-family: inherit;">This setup also allows us to run the entire numpy test suite, which will help in directing future compatibility development. The recent PyPy release includes these changes, so download it and let us know how it works! And if you want to live on the edge, the nightly includes even more numpy progress made in November.</span><br><span style="font-family: inherit;"><br></span> <span style="font-family: inherit;">To install the fork, download the latest release, and then install numpy eith</span>er separately with a virtualenv: <tt class="docutils literal">pip install git+https://bitbucket.org/pypy/numpy.git</tt>; or directly: <tt class="docutils literal">git clone https://bitbucket.org/pypy/numpy.git; cd numpy; pypy setup.py install</tt>.<br><br><i><b>EDIT:</b> if you install numpy as root, you may need to also import it once as root before it works: <tt class="docutils literal">sudo pypy -c 'import numpy'</tt></i><br><span style="font-family: inherit;"><br></span> <span style="font-family: inherit;">Along with this change, progress was made in fixing internal micronumpy bugs and increasing compatibility:</span><br><ul>
<li><span style="font-family: inherit;"><span style="font-family: inherit;">Fixed a bug with strings in record dtypes</span></span></li>
<li><span style="font-family: inherit;"><span style="font-family: inherit;">Fixed a bug wh</span><span style="background-color: white; font-family: inherit;">ere the multiplication of an ndarray with a Python int or float resulted in loss of the array's dtype</span></span></li>
<li><span style="font-family: inherit;"><span style="background-color: white; font-family: inherit;">Fixed several segfaults encountered in the numpy test suite (suite should run now without segfaulting)</span></span></li>
</ul>
<span style="font-family: inherit;"><span style="background-color: white;"><br></span></span> <span style="font-family: inherit;"><span style="background-color: white;">We also began working on __array_prepare__ and __array_wrap__, which are necessary pieces for a working matplotlib module.</span></span><br><span style="font-family: inherit;"><span style="background-color: white;"><br></span></span> Cheers,<br>
Romain and Brian
    </div>
    </article><div class="comment-level comment-level-1">
      <div class="comment comment-499640270907816901">
        <div class="comment-header">
          <a name="comment-499640270907816901"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2013-11-16 09:28</span>:
        </div>
        <div class="comment-content">
          <p>Hi,<br><br>Thanks for all your efforts on pypy-*, we really appreciate it!<br><br>I'm trying to compile numpy with pypy-2.2-osx64 but the building process (manual and pip) fails with:<br>AttributeError: 'module' object has no attribute 'get_makefile_filename'<br><br>Full build log: https://pastebin.com/S4dybCV0<br><br>Any idea how to resolve this?<br><br>Thanks,<br>t</p>
        </div>
      </div>
      <div class="comment comment-4229618016758629275">
        <div class="comment-header">
          <a name="comment-4229618016758629275"></a>
            <span class="author">Maciej Fijalkowski</span> wrote on <span class="date">2013-11-16 10:06</span>:
        </div>
        <div class="comment-content">
          <p>Hey<br><br>Please put such reports to bugs.pypy.org so they don't get lost.<br><br>Thanks!<br>fijal</p>
        </div>
      </div>
      <div class="comment comment-7320689892342011598">
        <div class="comment-header">
          <a name="comment-7320689892342011598"></a>
            <span class="author">Brian Kearns</span> wrote on <span class="date">2013-11-16 17:43</span>:
        </div>
        <div class="comment-content">
          <p>Installation on OS X was fixed.</p>
        </div>
      </div>
      <div class="comment comment-2484651588735015520">
        <div class="comment-header">
          <a name="comment-2484651588735015520"></a>
            <span class="author">Sau</span> wrote on <span class="date">2014-03-12 05:47</span>:
        </div>
        <div class="comment-content">
          <p>I am getting an error when installing numpy for pypy 2.2.1:<br><br>https://stackoverflow.com/questions/22342769/error-when-installing-numpy-for-pypy2-2-1</p>
        </div>
      </div>
      <div class="comment comment-1028928377022543190">
        <div class="comment-header">
          <a name="comment-1028928377022543190"></a>
            <span class="author">Sau</span> wrote on <span class="date">2014-03-12 05:47</span>:
        </div>
        <div class="comment-content">
          <p>I am getting an error when installing numpy for pypy 2.2.1:<br><br>https://stackoverflow.com/questions/22342769/error-when-installing-numpy-for-pypy2-2-1</p>
        </div>
      </div>
         </div>

</div>
</div>
<div class="sidebar">
<div>
  <h2>
    The PyPy blogposts
  </h2>
  <div>
    Create a guest post via a PR to the <a href="https://github.com/pypy/pypy.org">source repo</a>
  </div>
</div>
    <div id="global-recent-posts">
    <h2>
      Recent Posts
    </h2>
    <ul class="post-list">
      <li>
        <a href="/posts/2025/12/toy-load-store.html" class="listtitle">Load and store forwarding in the Toy Optimizer</a>
      </li>
      <li>
        <a href="/posts/2025/07/pypy-v7320-release.html" class="listtitle">PyPy v7.3.20 release</a>
      </li>
      <li>
        <a href="/posts/2025/06/rpython-gc-allocation-speed.html" class="listtitle">How fast can the RPython GC allocate?</a>
      </li>
      <li>
        <a href="/posts/2025/04/prospero-in-rpython.html" class="listtitle">Doing the Prospero-Challenge in RPython</a>
      </li>
      <li>
        <a href="/posts/2025/02/pypy-v7319-release.html" class="listtitle">PyPy v7.3.19 release</a>
      </li>
      <li>
        <a href="/posts/2025/02/pypy-gc-sampling.html" class="listtitle">Low Overhead Allocation Sampling with VMProf in PyPy's GC</a>
      </li>
      <li>
        <a href="/posts/2025/02/pypy-v7318-release.html" class="listtitle">PyPy v7.3.18 release</a>
      </li>
      <li>
        <a href="/posts/2025/01/musings-tracing.html" class="listtitle">Musings on Tracing in PyPy</a>
      </li>
      <li>
        <a href="/posts/2025/01/towards-pypy311-an-update.html" class="listtitle">Towards PyPy3.11 - an update</a>
      </li>
      <li>
        <a href="/posts/2024/11/guest-post-final-encoding-in-rpython.html" class="listtitle">Guest Post: Final Encoding in RPython Interpreters</a>
      </li>
    </ul>
  </div>

          <div id="global-archive-list">
          <h2>
            Archives
          </h2>
          <ul class="archive-level archive-level-1">
            <li><a class="reference" href="/2007/">2007</a> (19)
            </li>
            <li><a class="reference" href="/2008/">2008</a> (62)
            </li>
            <li><a class="reference" href="/2009/">2009</a> (38)
            </li>
            <li><a class="reference" href="/2010/">2010</a> (44)
            </li>
            <li><a class="reference" href="/2011/">2011</a> (43)
            </li>
            <li><a class="reference" href="/2012/">2012</a> (44)
            </li>
            <li><a class="reference" href="/2013/">2013</a> (46)
            </li>
            <li><a class="reference" href="/2014/">2014</a> (22)
            </li>
            <li><a class="reference" href="/2015/">2015</a> (20)
            </li>
            <li><a class="reference" href="/2016/">2016</a> (20)
            </li>
            <li><a class="reference" href="/2017/">2017</a> (13)
            </li>
            <li><a class="reference" href="/2018/">2018</a> (12)
            </li>
            <li><a class="reference" href="/2019/">2019</a> (12)
            </li>
            <li><a class="reference" href="/2020/">2020</a> (9)
            </li>
            <li><a class="reference" href="/2021/">2021</a> (10)
            </li>
            <li><a class="reference" href="/2022/">2022</a> (13)
            </li>
            <li><a class="reference" href="/2023/">2023</a> (6)
            </li>
            <li><a class="reference" href="/2024/">2024</a> (13)
            </li>
            <li><a class="reference" href="/2025/">2025</a> (9)
            </li>
          </ul>
        </div>


          <div id="global-tag-list">
          <h2>
            Tags
          </h2>
          <ul>
            <li><a class="reference" href="/categories/arm.html">arm</a> (2)</li>
            <li><a class="reference" href="/categories/benchmarking.html">benchmarking</a> (1)</li>
            <li><a class="reference" href="/categories/casestudy.html">casestudy</a> (3)</li>
            <li><a class="reference" href="/categories/cli.html">cli</a> (1)</li>
            <li><a class="reference" href="/categories/compiler.html">compiler</a> (1)</li>
            <li><a class="reference" href="/categories/conda-forge.html">conda-forge</a> (1)</li>
            <li><a class="reference" href="/categories/cpyext.html">cpyext</a> (4)</li>
            <li><a class="reference" href="/categories/cpython.html">CPython</a> (3)</li>
            <li><a class="reference" href="/categories/ep2008.html">ep2008</a> (1)</li>
            <li><a class="reference" href="/categories/extension-modules.html">extension modules</a> (3)</li>
            <li><a class="reference" href="/categories/gc.html">gc</a> (3)</li>
            <li><a class="reference" href="/categories/guestpost.html">guestpost</a> (3)</li>
            <li><a class="reference" href="/categories/graalpython.html">GraalPython</a> (1)</li>
            <li><a class="reference" href="/categories/hpy.html">hpy</a> (1)</li>
            <li><a class="reference" href="/categories/heptapod.html">Heptapod</a> (1)</li>
            <li><a class="reference" href="/categories/jit.html">jit</a> (23)</li>
            <li><a class="reference" href="/categories/jython.html">jython</a> (1)</li>
            <li><a class="reference" href="/categories/kcachegrind.html">kcachegrind</a> (1)</li>
            <li><a class="reference" href="/categories/meta.html">meta</a> (1)</li>
            <li><a class="reference" href="/categories/numpy.html">numpy</a> (24)</li>
            <li><a class="reference" href="/categories/parser.html">parser</a> (1)</li>
            <li><a class="reference" href="/categories/performance.html">performance</a> (2)</li>
            <li><a class="reference" href="/categories/profiling.html">profiling</a> (7)</li>
            <li><a class="reference" href="/categories/pypy.html">pypy</a> (6)</li>
            <li><a class="reference" href="/categories/pypy3.html">pypy3</a> (16)</li>
            <li><a class="reference" href="/categories/pyqt4.html">PyQt4</a> (1)</li>
            <li><a class="reference" href="/categories/release.html">release</a> (66)</li>
            <li><a class="reference" href="/categories/releasecffi.html">releasecffi</a> (3)</li>
            <li><a class="reference" href="/categories/releaserevdb.html">releaserevdb</a> (1)</li>
            <li><a class="reference" href="/categories/releasestm.html">releasestm</a> (1)</li>
            <li><a class="reference" href="/categories/revdb.html">revdb</a> (1)</li>
            <li><a class="reference" href="/categories/roadmap.html">roadmap</a> (2)</li>
            <li><a class="reference" href="/categories/rpython.html">rpython</a> (1)</li>
            <li><a class="reference" href="/categories/rpyc.html">RPyC</a> (1)</li>
            <li><a class="reference" href="/categories/speed.html">speed</a> (6)</li>
            <li><a class="reference" href="/categories/sponsors.html">sponsors</a> (7)</li>
            <li><a class="reference" href="/categories/sprint.html">sprint</a> (3)</li>
            <li><a class="reference" href="/categories/sprints.html">sprints</a> (1)</li>
            <li><a class="reference" href="/categories/stm.html">stm</a> (14)</li>
            <li><a class="reference" href="/categories/sun.html">sun</a> (1)</li>
            <li><a class="reference" href="/categories/smalltalk.html">Smalltalk</a> (1)</li>
            <li><a class="reference" href="/categories/squeak.html">Squeak</a> (1)</li>
            <li><a class="reference" href="/categories/testing.html">testing</a> (1)</li>
            <li><a class="reference" href="/categories/toy-optimizer.html">toy-optimizer</a> (6)</li>
            <li><a class="reference" href="/categories/unicode.html">unicode</a> (1)</li>
            <li><a class="reference" href="/categories/valgrind.html">valgrind</a> (1)</li>
            <li><a class="reference" href="/categories/vmprof.html">vmprof</a> (3)</li>
            <li><a class="reference" href="/categories/z3.html">z3</a> (5)</li>
          </ul>
        </div></div>
</main>
</div>
<div style="clear: both; width: 75%; margin: 1em auto;">
        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-31.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-29.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
         
                 <footer id="footer"><p>
</p>
<div class="myfooter">
  <div class="logotext">
    © 2026 <a href="mailto:pypy-dev@pypy.org">The PyPy Team</a>
     
    Built with <a href="https://getnikola.com" rel="nofollow">Nikola</a>
     
    Last built 2026-01-17T00:22
  </div>
  <div style="margin-left: auto">
  <a href="../rss.xml">RSS feed</a>
</div>

            
        

    </div>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js" crossorigin="anonymous"></script><script src="../assets/js/styles.js"></script></footer>
</body>
</html>