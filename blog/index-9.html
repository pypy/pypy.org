<!DOCTYPE html>
<html \ prefix="
        og: http://ogp.me/ns# article: http://ogp.me/ns/article#
    " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="A Faster Python">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>PyPy (old posts, page 9) | PyPy</title>
<link href="../assets/css/rst_base.css" rel="stylesheet" type="text/css">
<link href="../assets/css/nikola_rst.css" rel="stylesheet" type="text/css">
<link href="../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="../assets/css/styles.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../rss.xml">
<link rel="canonical" href="https://www.pypy.org/blog/index-9.html">
<link rel="icon" href="../favicon2.ico" sizes="16x16">
<link rel="icon" href="../favicon32x32.ico" sizes="32x32">
<link rel="prev" href="index-10.html" type="text/html">
<link rel="next" href="index-8.html" type="text/html">
<!--[if lt IE 9]><script src="../assets/js/html5shiv-printshiv.min.js"></script><![endif]--><link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="../assets/css/tipuesearch.css">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div id="container">
             <header id="header"><!-- Adapted from https://www.taniarascia.com/responsive-dropdown-navigation-bar --><section class="navigation"><div class="nav-container">
            <div class="brand">
                <a href="../index.html">
                    <image id="toplogo" src="../images/pypy-logo.svg" width="75px;" alt="PyPy/"></image></a>
            </div>
            <nav><ul class="nav-list">
<li> 
                <a href="#!">Features</a>
                <ul class="nav-dropdown">
<li> <a href="../features.html">What is PyPy?</a> </li>  
                    <li> <a href="../compat.html">Compatibility</a> </li>  
                    <li> <a href="../performance.html">Performance</a> </li>  
                </ul>
</li>
          <li> <a href="../download.html">Download</a> </li>  
          <li> <a href="http://doc.pypy.org">Dev Docs</a> </li>  
            <li> 
                <a href="#!">Blog</a>
                <ul class="nav-dropdown">
<li> <a href=".">Index</a> </li>  
                    <li> <a href="../categories/">Tags</a> </li>  
                    <li> <a href="../archive.html">Archive by year</a> </li>  
                    <li> <a href="../rss.xml">RSS feed</a> </li>  
                    <li> <a href="https://morepypy.blogspot.com/">Old site</a> </li>  
                </ul>
</li>
            <li> 
                <a href="#!">About</a>
                <ul class="nav-dropdown">
<li> <a href="https://bsky.app/profile/pypyproject.bsky.social">Bluesky</a> </li>  
                    <li> <a href="https://libera.irclog.whitequark.org/pypy">IRC logs</a> </li>  
                    <li> <a href="https://www.youtube.com/playlist?list=PLADqad94yVqDRQXuqxKrPS5QnVqbDLlRt">YouTube</a> </li>  
                    <li> <a href="https://www.twitch.tv/pypyproject">Twitch</a> </li>  
                    <li> <a href="../pypy-sponsors.html">Sponsors</a> </li>  
                    <li> <a href="../howtohelp.html">How To Help?</a> </li>  
                    <li> <a href="../contact.html">Contact</a> </li>  
                </ul>
</li>

                </ul></nav><div class="nav-mobile">
                <a id="nav-toggle" href="#!"> <span></span></a>
            </div>
        </div>
    </section><div class="searchform" role="search">
                
<form class="navbar-form navbar-left" action="../search.html" role="search">
    <div class="form-group">
        <input type="text" class="form-control" id="tipue_search_input" name="q" placeholder="Search…" autocomplete="off">
</div>
    <input type="submit" value="Local Search" style="visibility: hidden;">
</form>

            </div>
    </header><main id="content"><div class="post">
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/2009/03/vm-summit-nice-to-see-friendly-8755773725359396485.html" class="u-url">VM summit: nice to see friendly competition</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="../authors/maciej-fijalkowski.html">Maciej Fijalkowski</a>
            </span></p>
            <p class="dateline">
            <a href="../posts/2009/03/vm-summit-nice-to-see-friendly-8755773725359396485.html" rel="bookmark">
            <time class="published dt-published" datetime="2009-03-26T12:18:00Z" itemprop="datePublished" title="2009-03-26 12:18">2009-03-26 12:18</time></a>
            </p>
                <p class="commentline">8 comments</p>

        </div>
    </header><div class="p-summary entry-summary">
    <p>
So Google has launched the <a href="https://code.google.com/p/unladen-swallow/">unladen swallow</a> project
with this first goal: 
</p>
<pre>
    Produce a version of Python at least 5x faster than CPython.
</pre>
<p>
We discussed some details with Collin Winter,  Jeffrey Yasskin and Thomas Wouters
during the VM summit yesterday. We were a bit confused about usage
of the term JIT, because as far as we understood, it's going to be upfront
compilation into LLVM.  In the past we have looked into LLVM
 –  at one point PyPy extensively use it but it
wasn't clear how we could make good use to it. 
They also consider changing to something else than LLVM.  It's gonna be 
interesting to see how this works out. 
</p>
<p>
It's good to see friendly competition, and we think that should take up
the challenge and see if we can produce faster pickling, run 2to3 and 
Django faster than what they can come up with.  We also talked 
to IronPython and Jython developers and all agreed that some
common benchmarks would be good.  And maybe do weekly
press releases about small speed increases? :) 
</p>
<p>
The idea of the VM summit here in Chicago was to bring together implementors
of various virtual machine languages.  There were members of the communities of
IronPython, CPython, GemStone's MagLev, Rubinius, Mozilla's TraceMonkey, Parrot, 
Sun's Da Vinci Machine, Microsoft's DLR, Jython and JRuby.
Everybody got to talk 5-10 minutes on their current status and 
challenges.  It is clear that you cannot begin to cover the 
complexities and architectures of the involved projects. 
But that wasn't too much of a problem because the rest of
the day everybody freely and dynamically grouped on their
issues of choice.  We established some more personal contacts,
was great to chat with people like Andreas Gal from the University of 
California, Irvine, who have a very similar idea about the JIT
that we have.  Actually, we could probably haved mixed our
two presentations and nobody would have actually noticed :-).
</p>
<p>
At the end of the presentation part, John Rose presented <a href="https://wiki.jvmlangsummit.com/preso/DaVinciAtPyCon/">his
slides</a>. John is a Hotspot developer, and while not precisely a dynamic
language implementor, he has a lot of experience in virtual
machine implementation. It's very good to see the JVM being extended towards
supporting dynamic-language specific things, in order to be something
more than just a good platform for Java.  We'll probably have 
some extra meetup with him the next days. 
</p>
cheers,<br> 
holger and fijal
    </div>
    </article><div class="comment-level comment-level-1">
      <div class="comment comment-4875662396016346934">
        <div class="comment-header">
          <a name="comment-4875662396016346934"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2009-03-26 14:21</span>:
        </div>
        <div class="comment-content">
          <i>So Google has launched the unladen swallow project with this first goal</i><br><br>I'm not sure this is a Google project. It's hosted on Google code for sure, but anyone can do that.
        </div>
      </div>
      <div class="comment comment-7171243010004680237">
        <div class="comment-header">
          <a name="comment-7171243010004680237"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2009-03-27 01:16</span>:
        </div>
        <div class="comment-content">
          <p>All three of the primary developers are Google employees.</p>
        </div>
      </div>
      <div class="comment comment-441299295934718174">
        <div class="comment-header">
          <a name="comment-441299295934718174"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2009-03-27 03:01</span>:
        </div>
        <div class="comment-content">
          <i>We were a bit confused about usage of the term JIT, because as far as we understood, it's going to be upfront compilation into LLVM.</i><br><br>The LLVM supports JIT, so compiling Python into LLVM bytecode will give JIT for free.
        </div>
      </div>
      <div class="comment comment-1084185991393025494">
        <div class="comment-header">
          <a name="comment-1084185991393025494"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2009-03-27 03:24</span>:
        </div>
        <div class="comment-content">
          <p>Anonymous#1, this is extremely valuable note to take in an open source world, you know ;-)<br><br>PyPy folks, keep up the good work!<br><br>But... Sometimes I miss updates on this blog. Not in the sense that you slack on it, but in the sense that I miss some "technicaly intermediate" updates when there are no news on breathrouths.<br><br>One thing I miss most is the retro style articles on how some things that are "established" now got to be this way. The design by evolution things. Stuff that both educates and helps to get acquainted with the code one might like to hack one day.</p>
        </div>
      </div>
      <div class="comment comment-1920806027610582424">
        <div class="comment-header">
          <a name="comment-1920806027610582424"></a>
            <span class="author">Luis</span> wrote on <span class="date">2009-03-28 02:51</span>:
        </div>
        <div class="comment-content">
          <p>I don't understand: These days, Google's v8 claims to be 56x faster than common javascript, tracemonkey is in the same league, as well as nitro, etc. Way before, psyco sped up python (theoretically) up to c's speed for algorithmic code, and up to 4x for common code.<br><br>Now Unladen Swallow aims to "only" 5x speed up. Isn't it to little, seeing what the above projects are getting nowadays?<br>Or am I getting confussed by their terminology? (what's exactly the meaning of 5x here?).</p>
        </div>
      </div>
      <div class="comment comment-8722995713090740701">
        <div class="comment-header">
          <a name="comment-8722995713090740701"></a>
            <span class="author">Maciej Fijalkowski</span> wrote on <span class="date">2009-03-28 14:28</span>:
        </div>
        <div class="comment-content">
          <p>The exact meaning of 5x is I *think* "5x on tests derived from google internal apps". It's a bit little, but note that the great speedups of JS engines are for simple algorithmic code (the one that psyco speedups great).<br><br>It would be a good speedup for a lot of people though (of course we aim to speed up stuff according to JS engines ;)<br><br>Cheers,<br>fijal</p>
        </div>
      </div>
      <div class="comment comment-5644588633672401072">
        <div class="comment-header">
          <a name="comment-5644588633672401072"></a>
            <span class="author">Luis</span> wrote on <span class="date">2009-03-28 14:34</span>:
        </div>
        <div class="comment-content">
          <p>Maciej, this is a reply posted on the project's FAQ page:<br><br> Comment by collinw,  Today (8 hours ago)<br><br>luismgz: translating Python to Javascript would be easy to implement for about 80% of the language, but you'd hit a wall in implementing that last 20%. Just ask the Jython, PyPy? and IronPython? teams how hard 100% compatibility is. They've done some really heroic work to implement every dark and musty corner of the language, and I think they'd be the first to tell you that it's easy to get something like the Fibonacci function working, but things like metaclasses are a different story. We hope to side-step that by reusing as much of CPython as possible.<br><br>Psyco's claimed benefits of 100x speed-up on algorithmic code is rarely seen in real applications. It can certainly be used to optimize hotspots that fit Psyco's profile, but in examining the performance of some Google applications that use Psyco, we found that they see only a ~10% improvement in overall CPU usage. While that might be a valuable savings for some applications, it's not 100x, nor even the 2-4x low-end estimate that I've seen in the Psyco docs.<br><br>Are our performance goals too modest? We don't think so. Our team is small -- only two full-time engineers -- and we want to allow for unexpected surprises along the way. We feel that 5x is a good goal for the time being, especially given that we may need to make changes to LLVM along the way. If things go astoundingly well, we may raise those numbers, but for now, we're comfortable with our stated goals.</p>
        </div>
      </div>
      <div class="comment comment-1123808594399320468">
        <div class="comment-header">
          <a name="comment-1123808594399320468"></a>
            <span class="author">Luis</span> wrote on <span class="date">2009-05-28 23:35</span>:
        </div>
        <div class="comment-content">
          <p>Maciej said: "It would be a good speedup for a lot of people though (of course we aim to speed up stuff according to JS engines ;)"<br><br>What ever happend to the "secret goal" of being faster than c...?</p>
        </div>
      </div>
         </div>

    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/2009/03/pypy-talk-at-openbossa-09-5135830287297423499.html" class="u-url">PyPy talk at OpenBossa 09</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="../authors/holger-krekel.html">holger krekel</a>
            </span></p>
            <p class="dateline">
            <a href="../posts/2009/03/pypy-talk-at-openbossa-09-5135830287297423499.html" rel="bookmark">
            <time class="published dt-published" datetime="2009-03-12T14:00:00Z" itemprop="datePublished" title="2009-03-12 14:00">2009-03-12 14:00</time></a>
            </p>
                <p class="commentline">10 comments</p>

        </div>
    </header><div class="p-summary entry-summary">
    <p>Yesterday i gave my <a class="reference external" href="https://merlinux.eu/~hpk/pypy-openbossa09.pdf">PyPy status/mobile perspectives</a> at OpenBossa, Nokia's developer conference for embedded platforms in Brazil.  Found it a bit of a tough task to do that in 50 minutes.  I had some 50, later more developers attending the talk and was happy with the questions and the feedback.  Guess it's a good sign if the number of people grows during a talk :)  It was the first time i tried to work more with pictures and actually used some devianart photos from <a class="reference external" href="https://marikaz.deviantart.com/">Marikaz</a> to mark section transitions.  I summarize/highlight some key points here in the post.</p>
<p>After intro and 2.5 compatibility status, i talked about our measurements of PyPy's Python on Nokia's N810 internet tablet. The best bit is that for almost all Python data structures PyPy has smaller memory representations than CPython.  Particularly good are class instances which often score at 50% of CPython's sizes.  Startup time is also often better and can be improved.  On the bad side, PyPy's quite large base interpreter size and its bytecode execution is often worse. In the talk i also outline ideas for "perfect PYC files" for minimizing module import times and maximizing sharing across interpreter processes. I also briefly discussed the PyPy situation with extension modules and regarding C++ libs.  Most of these ideas arose from sprint discussions last year.  In the morning i also had some good talk with Stefan Seefeld about Boost Python and the new QT4 bindings.   Maybe to use Boost Python is also a good opportunity - but PyPy does not currently have a C-level or C++ level API.</p>
<p>In subsequent lunch discussions people agreed that PyPy has three main interesting areas currently:</p>
<ul class="simple">
<li>the Python Just-In-Time Compiler</li>
<li>a virtualized, sandboxed Python interpreter</li>
<li>an efficient Python interpreter for small devices</li>
</ul>
<p>I think our upcoming 1.1 release will be a good point in time for many people to look some more into PyPy.  I hope we are crossing the chasm soon.  It's been a while since the project started :)  Getting some more sponsoring to sustain and increase our current efforts probably wouldn't hurt.</p>
<p>Now i am off to spend my last day in Recife / Brazil, fly back to Germany in the evening and then spend time on preparing for Pycon 2009. And I guess i am going to enjoy some naturally cold air - at least my two jogging sessions at Brazillian beaches, at a sustained 30 degrees celsius, were tough.  I guess i shouldn't complain, though :)</p>
<p>Was great meeting all the brazillian guys and the few women - just had breakfeast with Kate Alhola, kernel hacker and working on the new "Freemantle" graphical platform.  Many thanks go to Marcio Marcedo and the Python team at <a class="reference external" href="https://www.indt.org/institutional/index.php">INDT</a> who invited me here.  Hope to come again next year and eventually talk more about the Zone VM :)</p>
<p>If you are interested in some more not so pypy-specific bits about the conference and what i experienced, you might head over to my <a class="reference external" href="https://tetamap.wordpress.com">tetamap</a> blog.</p>
<p>holger</p>
    </div>
    </article><div class="comment-level comment-level-1">
      <div class="comment comment-3026169062723121463">
        <div class="comment-header">
          <a name="comment-3026169062723121463"></a>
            <span class="author">Mikko Ohtamaa</span> wrote on <span class="date">2009-03-12 22:13</span>:
        </div>
        <div class="comment-content">
          <p>Hi Holger,<br><br>About start up times: We have researched them a lot when developing few applications on Nokia's PyS60. <br><br>Our conclusion, for now, is that its imports and module body bytecode execution (loading modules, classes, creating functions) which takes the most of the time during the start up. Unfortunately there is no real way to speed up this process, except lazily trying to load all your code.<br><br>We have experienced with unexec() like solution. Unexec() was an old Emacs trick where a.out binary code and data segments are dumped to disk. When the application is loaded for the next time, this dump is just blitted to memory and execution continues. Kind of application level hibernation. You wouldn't actually need to distribute .pyc files at all for embedded devices, you could just give out a target specific binary dump containing ready memory layout.<br><br>Of course, it is not  so straightforward on modern system with DLLs and other funny pointers. We got some tests working with CPython and PyS60 emulator - but there would be tons of work to make it actually usable (patching all system libs and DLL loads to be suspend friendly).<br><br>Some discussion here:<br><br>https://mail.python.org/pipermail/python-dev/2008-December/084466.html<br><br>Please reply at mikko (at) redinnovation (dot) com if you are interested in to hear more.</p>
        </div>
      </div>
      <div class="comment comment-8566003269371282216">
        <div class="comment-header">
          <a name="comment-8566003269371282216"></a>
            <span class="author">Mikko Ohtamaa</span> wrote on <span class="date">2009-03-12 22:14</span>:
        </div>
        <div class="comment-content">
          <p>God I hate too small edit boxes.</p>
        </div>
      </div>
      <div class="comment comment-8092442196627330073">
        <div class="comment-header">
          <a name="comment-8092442196627330073"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2009-03-13 05:24</span>:
        </div>
        <div class="comment-content">
          <p>Do you have a link for those Qt4 bindings?</p>
        </div>
      </div>
      <div class="comment comment-7479510722930798893">
        <div class="comment-header">
          <a name="comment-7479510722930798893"></a>
            <span class="author">Paddy3118</span> wrote on <span class="date">2009-03-13 07:35</span>:
        </div>
        <div class="comment-content">
          <p>On too small edit boxes: I use: <a href="https://addons.mozilla.org/en-US/firefox/addon/4125" rel="nofollow">It's All Text!</a> for Firefox, together with Vim.<br><br>- Paddy.</p>
        </div>
      </div>
      <div class="comment comment-7921581778276048917">
        <div class="comment-header">
          <a name="comment-7921581778276048917"></a>
            <span class="author">holger krekel</span> wrote on <span class="date">2009-03-15 20:19</span>:
        </div>
        <div class="comment-content">
          <p>Hi Mikko!<br><br>thanks a lot for your comment and the pointer to the python-dev thread! <br><br>Like Martin von Loewis i'd be very interested to know more numbers regarding how the time for python imports is usually spent - i'd suspect the major bit comes from unmarshalling and the involved malloc/copying of data work.  If that is true then what i presented in the talk as "perfect pyc files" is probably a good idea.  It's basically what Martin suggested. <br><br>I find the unexec ideas interesting, especially on platforms where fork does not exist.  PyPy could probably have a very compact interpreter state representation if we perform garbage collection before writing to disk. When using moving GCs those objects would map very compactly into the oldest-generation memory and thus be mostly avoided by subsequent GC collects.<br><br>Of course, there also is time consumed for linking DLLs - only forking is  efficient in avoiding this overhead. But it doesn't exist on Symbian, right?   <br><br>If you have any more info on the exact numbers on import times, i'd be very curious.  We might also have some numbers from PyPy - need to check.<br><br>I am also available on holger.krekel at gmail com.  You are also very welcome to post to pypy-dev (https://codespeak.net/mailman/listinfo/pypy-dev)<br><br>cheers,<br>holger</p>
        </div>
      </div>
      <div class="comment comment-1158308820028246296">
        <div class="comment-header">
          <a name="comment-1158308820028246296"></a>
            <span class="author">holger krekel</span> wrote on <span class="date">2009-03-15 20:39</span>:
        </div>
        <div class="comment-content">
          <p>anoymous: pypy does not have qt4 bindings yet. <br><br>paddy318: thanks! i'll check this out once i get firefox upgrade on the ubuntu machine i am currently using. (why are we in 2009 still having this concept of "installing" apps/plugins, let alone finding a matching one?)</p>
        </div>
      </div>
      <div class="comment comment-3723512002949047638">
        <div class="comment-header">
          <a name="comment-3723512002949047638"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2009-03-16 00:57</span>:
        </div>
        <div class="comment-content">
          <p>I was referring to this:<br>"In the morning i also had some good talk with Stefan Seefeld about Boost Python and the new QT4 bindings."<br><br>From that it sounds like there are new Qt4 bindings for CPython somewhere, using Boost.  I have tried searching, but was not able to find anything.</p>
        </div>
      </div>
      <div class="comment comment-2504966656325251323">
        <div class="comment-header">
          <a name="comment-2504966656325251323"></a>
            <span class="author">holger krekel</span> wrote on <span class="date">2009-03-16 08:56</span>:
        </div>
        <div class="comment-content">
          <p>Anonymous, i also only found the 2005 announcement. I mailed Stefan to find out some more.  Maybe it's just existing in some developers repository as of yet.  I'll let you know if i find out something more actual.</p>
        </div>
      </div>
      <div class="comment comment-7248562553534092255">
        <div class="comment-header">
          <a name="comment-7248562553534092255"></a>
            <span class="author">holger krekel</span> wrote on <span class="date">2009-03-16 12:04</span>:
        </div>
        <div class="comment-content">
          <p>Anonymous: ok, seems like recent bindings use SIP, see https://www.riverbankcomputing.co.uk/software/pyqt/download<br><br>not sure about the status of boost cpython based qt bindings. <br>holger</p>
        </div>
      </div>
      <div class="comment comment-9023251849820798329">
        <div class="comment-header">
          <a name="comment-9023251849820798329"></a>
            <span class="author">arman</span> wrote on <span class="date">2009-03-20 21:29</span>:
        </div>
        <div class="comment-content">
          <p>I wonder if an unexec like functionality can be developed by developing a mechanism for pickling the current interpreter state (e.g. loaded modules).</p>
        </div>
      </div>
         </div>

    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/2009/03/good-news-everyone-421421336094214242.html" class="u-url">Good news everyone!</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="../authors/maciej-fijalkowski.html">Maciej Fijalkowski</a>
            </span></p>
            <p class="dateline">
            <a href="../posts/2009/03/good-news-everyone-421421336094214242.html" rel="bookmark">
            <time class="published dt-published" datetime="2009-03-10T15:32:00Z" itemprop="datePublished" title="2009-03-10 15:32">2009-03-10 15:32</time></a>
            </p>
                <p class="commentline">10 comments</p>

        </div>
    </header><div class="p-summary entry-summary">
    <p>
A quick update from the JIT front. As of yesterday, we're now able to translate
a highly-experimental Python interpreter that contains JIT. It mostly crashes
immediately, mostly due to some unsupported operations in the assembler backend,
but for a carefully crafted program, we're able to get massive speedups.
For something as complex as:
</p>
<pre>
  i = 0
  while i &lt; 10000000:
   i = i + 1
</pre>
<p>
our JIT is about 20x faster than CPython. That's still about 3x slower than
Psyco, but looking at assembler code it's obvious that we can speed it up
a lot. These are very good news, since we don't encode python semantics at
all in the JIT. The JIT is automatically generated from the Python interpreter
source code. This means we should be able to expand it to handle more complex
python programs relatively quickly (interested assembler experts needed!).
</p>
<p>
This is actually the fifth incarnation of JIT that happened over the last
two years. It's by far simpler and more promising than any of the previous
approaches. Expect more details soon!
</p>
Cheers,<br>
fijal
    </div>
    </article><div class="comment-level comment-level-1">
      <div class="comment comment-7849863183634436640">
        <div class="comment-header">
          <a name="comment-7849863183634436640"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2009-03-10 16:14</span>:
        </div>
        <div class="comment-content">
          <p>Very exciting news indeed.<br>Congratulations!</p>
        </div>
      </div>
      <div class="comment comment-1035476537816310060">
        <div class="comment-header">
          <a name="comment-1035476537816310060"></a>
            <span class="author">Zemantic dreams</span> wrote on <span class="date">2009-03-10 16:49</span>:
        </div>
        <div class="comment-content">
          <p>This is exciting. The world is waiting.<br><br>(I am still sad that Psyco development was discontinued and never ported to 64bit)</p>
        </div>
      </div>
      <div class="comment comment-6752080653525143788">
        <div class="comment-header">
          <a name="comment-6752080653525143788"></a>
            <span class="author">nekto0n</span> wrote on <span class="date">2009-03-10 17:34</span>:
        </div>
        <div class="comment-content">
          <p>Great news!<br>Activity in blog shows that project is full of enthusiasm.</p>
        </div>
      </div>
      <div class="comment comment-1896365053484351348">
        <div class="comment-header">
          <a name="comment-1896365053484351348"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2009-03-10 18:08</span>:
        </div>
        <div class="comment-content">
          <p>wow, that's really great =)</p>
        </div>
      </div>
      <div class="comment comment-1374938172167577583">
        <div class="comment-header">
          <a name="comment-1374938172167577583"></a>
            <span class="author">Eric van Riet Paap</span> wrote on <span class="date">2009-03-10 18:33</span>:
        </div>
        <div class="comment-content">
          <p>Congratulations! Very nice to read about these milestones.<br><br>I did not follow llvm development but does anyone know if they made some arrangements by now that would enable the PyPy JIT generator to leverage their optimizers?</p>
        </div>
      </div>
      <div class="comment comment-1105947004586318004">
        <div class="comment-header">
          <a name="comment-1105947004586318004"></a>
            <span class="author">Harold Fowler</span> wrote on <span class="date">2009-03-11 12:16</span>:
        </div>
        <div class="comment-content">
          <p>Wow, you are right, that is good news.<br><br>RT<br>www.privacy.at.tc</p>
        </div>
      </div>
      <div class="comment comment-5328207537598616488">
        <div class="comment-header">
          <a name="comment-5328207537598616488"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2009-03-11 16:57</span>:
        </div>
        <div class="comment-content">
          <p>I'm wondering why something like this would be faster than CPython? New to the whole python scene so I'm really just curios.</p>
        </div>
      </div>
      <div class="comment comment-212427735837964091">
        <div class="comment-header">
          <a name="comment-212427735837964091"></a>
            <span class="author">René Dudfield</span> wrote on <span class="date">2009-03-11 19:59</span>:
        </div>
        <div class="comment-content">
          <p>nice one :)<br><br>In the mean time... I wrote an optimized version of that program for CPython:<br><br>i = 10000000<br><br>CPython is 10000000x faster than the pypy jit!!!!!!</p>
        </div>
      </div>
      <div class="comment comment-153503282864859492">
        <div class="comment-header">
          <a name="comment-153503282864859492"></a>
            <span class="author">Tim Wintle</span> wrote on <span class="date">2009-03-12 02:48</span>:
        </div>
        <div class="comment-content">
          <p>Congratulations!<br><br>This is very exciting.<br><br>@Anonymous - it's because the standard python interpreter doesn't use a JIT, which makes dynamic languages quite slow.</p>
        </div>
      </div>
      <div class="comment comment-184644675808637104">
        <div class="comment-header">
          <a name="comment-184644675808637104"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2009-04-07 15:42</span>:
        </div>
        <div class="comment-content">
          <p>I'm waiting for production solution!</p>
        </div>
      </div>
         </div>

    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/2009/03/jit-bit-of-look-inside-7472130507462677287.html" class="u-url">JIT - a bit of look inside</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="../authors/maciej-fijalkowski.html">Maciej Fijalkowski</a>
            </span></p>
            <p class="dateline">
            <a href="../posts/2009/03/jit-bit-of-look-inside-7472130507462677287.html" rel="bookmark">
            <time class="published dt-published" datetime="2009-03-05T13:50:00Z" itemprop="datePublished" title="2009-03-05 13:50">2009-03-05 13:50</time></a>
            </p>
                <p class="commentline">1 comment</p>

        </div>
    </header><div class="p-summary entry-summary">
    <p>
The <a href="../posts/2009/03/applying-tracing-jit-to-interpreter-3287844903778799266.html">previous post</a> about our JIT explained a bit from the 1000 km
perspective how the tracing JIT would approach a language like Python.
</p>
<p>
I would like to step a bit inside and give a zoom to some of its features that
are already working.
While probably not the most innovative, I think it's very nice to look
at the way we work with the JIT and what tools we use.
</p>
<p>
The main cool thing is that you can work on and try the JIT (including trying
it on the Python interpreter!) without even generating a single bit of
assembler. How? Let's start with something very simple. Let's take
a simple interpreter for language X.
</p>
<p>
Language X has 3 opcodes: CO_INCREASE, CO_DECREASE and CO_JUMP_BACK_3.
CO_INCREASE increase the accumulator by one, CO_DECREASE decrease
it by one, CO_JUMP_BACK_3 jump 3 opcodes back, if the accumulator is smaller
than 100 (this is only to maintain some halting conditions possible).
The interpreter for language X looks like this::
</p>
<p>
</p>
<pre>
    jitdriver = JitDriver(greens = ['i'], reds = ['res', 'a'])
    code = [CO_INCREASE, CO_INCREASE, CO_INCREASE,
            CO_JUMP_BACK_3, CO_INCREASE, CO_DECREASE]
            
    def add(res, a):
        return res + a

    def sub(res, a):
        return res - a

    def main_interpreter_loop(a):
        i = 0
        res = 0
        c = len(code)
        while i &lt; c:
            jitdriver.jit_merge_point(res=res, i=i, a=a)
            elem = code[i]
            if elem == CO_INCREASE:
                res = add(res, a)
            elif elem == CO_DECREASE:
                res = sub(res, a)
            else:
                if res &gt; 100:
                    pass
                else:
                    i = i - 3
                    jitdriver.can_enter_jit(res=res, i=i, a=a)
                    continue
            i = i + 1
        return res
</pre>
<p>
All very simple code, expect the jitdriver hints, which instruct JIT how to
behave (they are the equivalent of the ``add_to_position_key`` of last the blog
post).
</p>
<p>
Let's look how this code is processed. This will also give a glance
at how we work in this code. This particular piece can be found
on a <a href="https://codespeak.net/svn/pypy/branch/pyjitpl5">branch</a> in <tt>pypy/jit/metainterp/test/test_loop.py</tt>
and can be run with <tt>./test_all.py jit/metainterp/test/test_loop.py -k test_example -s --view</tt> from pypy directory. The <tt>-s</tt> option lets you see the debugging output, while
<tt>--view</tt> will show you some graphs. So, let's look at graphs in order:
</p>
<a href="https://4.bp.blogspot.com/_5R1EBmwBBTs/Sa_bimW0kmI/AAAAAAAAAB4/2VZMna1K_Jk/s1600-h/jit-graph-1.png"><img alt="" border="0" id="BLOGGER_PHOTO_ID_5309703873151406690" src="https://4.bp.blogspot.com/_5R1EBmwBBTs/Sa_bimW0kmI/AAAAAAAAAB4/2VZMna1K_Jk/s400/jit-graph-1.png" style="display: block; margin: 0px auto 10px; text-align: center; cursor: pointer; cursor: hand; width: 400px; height: 340px;"></a>

And the same picture with a bit of zoom for the first block:

<a href="https://1.bp.blogspot.com/_5R1EBmwBBTs/Sa_bp8M4fII/AAAAAAAAACA/ShAopZhNLNQ/s1600-h/jit-graph-2.png"><img alt="" border="0" id="BLOGGER_PHOTO_ID_5309703999274384514" src="https://1.bp.blogspot.com/_5R1EBmwBBTs/Sa_bp8M4fII/AAAAAAAAACA/ShAopZhNLNQ/s400/jit-graph-2.png" style="display: block; margin: 0px auto 10px; text-align: center; cursor: pointer; cursor: hand; width: 400px; height: 340px;"></a>
<p>

This is the call graph of an interpreter loop, nothing magic so far. This is an
intermediate representation of translation toolchain input. If you look around
you can follow how the opcodes are dispatched (with a chain of ifs) and helpers
called. Next graph is very boring, because it's a bit lower level representation
of the same thing (you exit with q or escape btw :).
</p>
<p>
When we exit the graph viewer, we can see the trace generated by interpreting
this graph with a given bytecode (variable <tt>code</tt> in paste above). It's something
like:
</p>
<pre>

        [compiler] ENTER
        [runner:cpu]    call__4 [(''), * GCREF hidden, 0] -&gt; 0
        [runner:cpu]    int_eq [0, 0] -&gt; True
        [runner:cpu]    int_add [9, 1] -&gt; 10
        [runner:cpu]    int_add [0, 1] -&gt; 1
        [runner:cpu]    int_lt [1, 6] -&gt; True
        [runner:cpu]    call__4 [(''), * GCREF hidden, 1] -&gt; 0
        [runner:cpu]    int_eq [0, 0] -&gt; True
        [runner:cpu]    int_add [10, 1] -&gt; 11
        [runner:cpu]    int_add [1, 1] -&gt; 2
        [runner:cpu]    int_lt [2, 6] -&gt; True
        [runner:cpu]    call__4 [(''), * GCREF hidden, 2] -&gt; 0
        [runner:cpu]    int_eq [0, 0] -&gt; True
        [runner:cpu]    int_add [11, 1] -&gt; 12
        [runner:cpu]    int_add [2, 1] -&gt; 3
        [runner:cpu]    int_lt [3, 6] -&gt; True
        [runner:cpu]    call__4 [(''), * GCREF hidden, 3] -&gt; 1
        [runner:cpu]    int_eq [1, 0] -&gt; False
        [runner:cpu]    int_eq [1, 2] -&gt; False
        [runner:cpu]    int_gt [12, 100] -&gt; False
        [runner:cpu]    int_sub [3, 3] -&gt; 0
        [compiler] LEAVE
</pre>
<p>
It's entering JIT, doing some primitive operations for bytecode dispatching
and repeating the loop. Note that at the end of the interpreted loop
(not to be confused with the interpreter loop), we see <tt>int_sub [3, 3]</tt>
which resets the bytecode position to the beginning. At this time JIT
(instructed by <tt>can_enter_jit</tt> hint) notices that all green variables
are the same (here only <tt>i</tt>),
hence we can compile the efficient loop from this point.
</p>
<a href="https://1.bp.blogspot.com/_5R1EBmwBBTs/Sa_b9I8HcVI/AAAAAAAAACI/wuhYwAzZikQ/s1600-h/jit-graph-3.png"><img alt="" border="0" id="BLOGGER_PHOTO_ID_5309704329111236946" src="https://1.bp.blogspot.com/_5R1EBmwBBTs/Sa_b9I8HcVI/AAAAAAAAACI/wuhYwAzZikQ/s400/jit-graph-3.png" style="display: block; margin: 0px auto 10px; text-align: center; cursor: pointer; cursor: hand; width: 400px; height: 340px;"></a>

<p>
The loop contains 3 additions and a check (for <tt>i &lt; 100</tt>), exactly
the same as our interpreted program would do, but completely without
interpretation overhead!
</p>
<p>
As you might have noticed, there is no assembler involved so far. All of this
instruction execution is done directly, in pure python. In fact, the
code for executing instructions is located in <tt>jit/backend/llgraph</tt>
which directly interprets instructions. This is by far simpler (and easier
to debug) than x86 assembler.
</p>
<p>
And this is basically it: the very simple interpreter and a jit for it.
Of course we actually <b>can</b> generate assembler for that. Also the missing
piece is optimizing the generated graphs. While for this example,
by removing the interpretetation overhead, we're done, with more complex
examples it's important to further optimize traces. Hopefully this and
how we actually generate assembler will be topics for next blog posts.
</p>
Cheers,<br>
fijal
    </div>
    </article><div class="comment-level comment-level-1">
      <div class="comment comment-1644685618156923058">
        <div class="comment-header">
          <a name="comment-1644685618156923058"></a>
            <span class="author">Brent Millare</span> wrote on <span class="date">2009-03-05 20:25</span>:
        </div>
        <div class="comment-content">
          <p>Great article. I like how it is the simplest case that can explain the most basic work flow. You have code, the interpreter, and the generated code as part of the running JIT.</p>
        </div>
      </div>
         </div>

    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/2009/03/pypy-on-mobiles-at-openbossa-845760004725129519.html" class="u-url">PyPy on Mobiles, at OpenBossa</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="../authors/holger-krekel.html">holger krekel</a>
            </span></p>
            <p class="dateline">
            <a href="../posts/2009/03/pypy-on-mobiles-at-openbossa-845760004725129519.html" rel="bookmark">
            <time class="published dt-published" datetime="2009-03-04T20:36:00Z" itemprop="datePublished" title="2009-03-04 20:36">2009-03-04 20:36</time></a>
            </p>
            
        </div>
    </header><div class="p-summary entry-summary">
    <p>Next week i am going to give a talk on PyPy at <a class="reference external" href="https://www.bossaconference.indt.org/">OpenBossa</a>, a developer conference on embedded platforms.  I've written up a bit more of my background and why i find it very interesting to go there <a class="reference external" href="https://tetamap.wordpress.com">on my blog</a>.  Probably will mostly follow up there or on twitter and not much here on the PyPy blog because it's not all about PyPy.  To summarize how i see it: i think there is great potential for Python and PyPy on mobiles and am thrilled to hear about what's going on currently and to discuss opportunities.</p>
cheers, holger
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/2009/03/applying-tracing-jit-to-interpreter-3287844903778799266.html" class="u-url">Applying a Tracing JIT to an Interpreter</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="../authors/carl-friedrich-bolz-tereick.html">Carl Friedrich Bolz-Tereick</a>
            </span></p>
            <p class="dateline">
            <a href="../posts/2009/03/applying-tracing-jit-to-interpreter-3287844903778799266.html" rel="bookmark">
            <time class="published dt-published" datetime="2009-03-02T17:09:00Z" itemprop="datePublished" title="2009-03-02 17:09">2009-03-02 17:09</time></a>
            </p>
                <p class="commentline">4 comments</p>

        </div>
    </header><div class="p-summary entry-summary">
    <p>After I had failed once more to explain to someone on IRC what the idea behind
the current JIT generator work of PyPy, I decided to just write a blog post to
explain it. Here it is :-). The post turned out to be a bit long, so please bear
with me.</p>
<p>The goal of the post is to give an understanding of how PyPy's JIT generator is
going to work. To do this, I will look at what happens when you write an
interpreter in Java and apply a completely normal tracing JIT to it (for this
reason all the code examples will be in some sort of pseudo-Java). The
resulting generated machine code is bad, so I will explain a way to fix the
occurring problem.</p>
<p>The techniques I describe here are conceptually similar to what we are doing in
PyPy. The details (as usual) are different. The reasons why I am trying to
explain things in this way is that I can start from tracing JITs, which are a
known existing technique.</p>
<p>To understand the following, it is helpful to already know a bit how a normal
tracing JIT works. I will give a reminder of how it is working, but there also
exist a couple of <a class="reference" href="https://andreasgal.com/2008/08/22/tracing-the-web/">more thorough</a> <a class="reference" href="https://weblogs.mozillazine.org/roadmap/archives/2008/08/tracemonkey_javascript_lightsp.html">introductions</a> on the web already.
I also will leave out a lot of details about the more detailed workings of
tracing JITs and only explain the things that are relevant to what I am trying
to get to here.</p>
<h2><a id="tracing-jits" name="tracing-jits">Tracing JITs</a></h2>
<p>Tracing JITs are an idea explored by the <a class="reference" href="https://www.hpl.hp.com/techreports/1999/HPL-1999-78.html">Dynamo project</a> in the context of
dynamic optimization of machine code at runtime. The techniques were then
<a class="reference" href="https://portal.acm.org/citation.cfm?doid=1134760.1134780">successfully applied</a> to Java VMs and are now being used by Mozilla's
<a class="reference" href="https://wiki.mozilla.org/JavaScript:TraceMonkey">TraceMonkey</a> JavaScript VM. They are built on some basic assumptions:</p>
<blockquote>
<ul class="simple">
<li>programs spend most of their runtime in loops</li>
<li>several iterations of the same loop are likely to take similar code paths</li>
<li>the best way to gain information about the behaviour of a program is to
observe it</li>
</ul>
</blockquote>
<p>The basic approach of a tracing JIT is to only generate machine code for
commonly executed loops and to interpret the rest of the program. The code for
those common loops however should be highly optimized, including aggressive
inlining.</p>
<p>The generation of loops works as follows: At first, everything is interpreted.
The interpreter does a bit of lightweight profiling to figure out which loops
are run often. When a common loop is identified, the interpreter enters a
special mode (called tracing mode). When in tracing mode, the interpreter
records a history (the <em>trace</em>) of all the operations it executes, in addition
to actually performing the operations. During tracing, the trace is repeatedly
checked whether the interpreter is at a position in the program that it had seen
earlier in the trace. If this happens, the trace recorded corresponds to a loop
in the program that the tracing interpreter is running. At this point, this loop
is turned into machine code by taking the trace and making machine code versions
of all the operations in it.</p>
<p>This process assumes that the path through the loop that was traced is a
"typical" example of possible paths (which is statistically likely). Of course
it is possible that later another path through the loop is taken, therefore the
machine code will contain <em>guards</em>, which check that the path is still the same.
If during execution of the machine code a guard fails, the machine code is left
and execution falls back to using interpretation (there are more complex
mechanisms in place to still produce more code for the cases of guard failures,
but they are of no importance for this post).</p>
<p>It is important to understand when the tracer considers a loop in the trace to
be closed. This happens when the <em>position key</em> is the same as at an earlier
point. The position key describes the position of the execution of the program,
e.g. usually contains things like the function currently being executed and the
program counter position of the tracing interpreter.</p>
<p>Let's look at a small example. Take the following code:</p>
<pre class="literal-block">
int sum_1_to_n(int n) {
    int result = 0;
    while (n &gt;= 0) {
        result += n;
        n -= 1;
    }
    return result;
}
</pre>
<p>The tracing JIT will at one point trace the execution of the while loop in
<tt class="docutils literal"><span class="pre">sum_1_to_n</span></tt>. The trace might look as follows:</p>
<pre class="literal-block">
guard_true(n &gt;= 0);
result += n;
n -= 1;
&lt;loop_back&gt;
</pre>
<p>This trace will then be turned into machine code. Note that the machine code
loop is by itself infinite and can only be left via a guard failure.</p>
<p>A slightly more complex example:</p>
<pre class="literal-block">
int f(int a, int b) {
    if (b % 46 == 41)
        return a - b;
    else
        return a + b;
}

int strange_sum(int n) {
    int result = 0;
    while (n &gt;= 0) {
        result = f(result, n);
        n -= 1;
    }
    return result;
}
</pre>
<p>The trace of the loop in <tt class="docutils literal"><span class="pre">strange_sum</span></tt> would maybe look like this:</p>
<pre class="literal-block">
guard_true(n &gt;= 0);
a = result;
b = n;
guard_false(b % 46 == 41);
result = a + b;
n -= 1;
&lt;loop_back&gt;
</pre>
<p>This would then be turned into machine code. Note how <tt class="docutils literal"><span class="pre">f</span></tt> was inlined into the
loop and how the common <tt class="docutils literal"><span class="pre">else</span></tt> case was turned into machine code, while the
other one is implemented via a guard failure.</p>
<h2><a id="id1" name="id1">Applying a Tracing JIT to an Interpreter</a></h2>
<p>In the rest of the post we will explore what happens when the program that is
being executed/compiled by the tracing JIT is itself a (bytecode) interpreter
for another language.</p>
<p>A stylized bytecode interpreter for a simple programming language could look as
follows:</p>
<pre class="literal-block">
W_Object interpret(String bytecode, ...) {
    Stack&lt;W_Object&gt; stack = new Stack&lt;W_Object&gt;();
    int pc = 0;
    while (true) { // bytecode dispatch loop
        char instruction = bytecode.charAt(pc);
        pc += 1;
        switch (instruction) {
            case ADD:
                W_Object arg2 = stack.pop();
                W_Object arg1 = stack.pop();
                stack.push(do_addition(arg1, arg2));
                break;
            case SUB:
                W_Object arg2 = stack.pop();
                W_Object arg1 = stack.pop();
                stack.push(do_substraction(arg1, arg2));
                break;
            case RETURN:
                return stack.pop();
            case JUMP_BACKWARD:
                pc -= (int)bytecode.charAt(pc);
                break;
            case LOAD_INTEGER:
                int value = (int)bytecode.charAt(pc);
                pc += 1;
                stack.push(new W_Integer(value));
                break;
            case PRINT:
                do_print(stack.pop());
                break;
            case DUP:
                stack.push(stack.peek());
                break;
            case JUMP_IF_TRUE:
                ...
            ...
        }
    }
</pre>
<p>If we apply a tracing JIT to this function, it will trace and compile the
execution of one bytecode, because after one bytecode the bytecode dispatch loop
is closed. E.g. it might trace and produce machine code for the execution of a
<tt class="docutils literal"><span class="pre">SUB</span></tt>. (<em>Sidenote:</em> this <tt class="docutils literal"><span class="pre">interpret</span></tt> function is an example where one of the
assumptions of a tracing JIT break down: two iterations of the bytecode dispatch
loop are rarely going to follow the same code path, because usually two
consecutive bytecodes encode different instructions).</p>
<p>The important bit to remember here is that the tracing JIT will produce a
machine code loop that corresponds to the bytecode dispatch loop in the
<tt class="docutils literal"><span class="pre">interpret</span></tt> function. Let's see how we can change that.</p>
<h2><a id="improving-the-generated-code" name="improving-the-generated-code">Improving the Generated Code</a></h2>
<p>If we want to make use of the fact that the program that is being jitted is
itself an interpreter, we need to change the tracing JIT a bit. To be more
precise we add a way for the user of the tracing JIT to add information to the
position key that the tracing JIT uses to decide when a loop is closed. This is
done by a call to a magic function <tt class="docutils literal"><span class="pre">add_to_position_key</span></tt>. This allows the
program writer to influence the tracing JIT's behaviour.</p>
<p>The semantics of <tt class="docutils literal"><span class="pre">add_to_position_key</span></tt> is as follows: The method itself does
not do anything. It has an effect only when it is seen during tracing. If it is
seen during tracing, the tracer adds the argument of the call to the position
key that the tracer is using to find out whether a loop was closed or not.</p>
<p>In the example of the <tt class="docutils literal"><span class="pre">interpret</span></tt> function above, we would add a call to this
function into the <tt class="docutils literal"><span class="pre">while</span></tt> loop as follows:</p>
<pre class="literal-block">
W_Object interpret(String bytecode, ...) {
    Stack stack = new Stack();
    int pc = 0;
    while (true) { // bytecode dispatch loop
        add_to_position_key(pc);
        add_to_position_key(bytecode);
        char instruction = bytecode.charAt(pc);
        pc += 1;
        switch (instruction) {
            case ADD:
    ...
</pre>
<p>When the modified tracing JIT traces now the <tt class="docutils literal"><span class="pre">interpret</span></tt> function executing a
<tt class="docutils literal"><span class="pre">SUB</span></tt>, something interesting happens. When the bytecode loop is closed, the
modified tracing JIT does not consider the trace to be a loop, because the value of
<tt class="docutils literal"><span class="pre">pc</span></tt> has been increased by one, so the position key differs. Instead it
continues to trace, effectively unrolling the bytecode dispatch loop of
<tt class="docutils literal"><span class="pre">interpret</span></tt>.</p>
<p>The only way for a loop to be considered closed is if the <tt class="docutils literal"><span class="pre">pc</span></tt> variable has
the same value a second time.  This can only happen after a <tt class="docutils literal"><span class="pre">JUMP_BACKWARD</span></tt>
instruction has been executed.  A <tt class="docutils literal"><span class="pre">JUMP_BACKWARD</span></tt> instruction will only be in
the bytecode when the bytecode represents a loop. This means that the modified
tracing JIT will trace the <tt class="docutils literal"><span class="pre">interpret</span></tt> function and will only consider that
the trace represents a loop when the bytecode itself represents a loop! Thus, a
machine code loop will eventually be created that corresponds to the loop in the
<tt class="docutils literal"><span class="pre">bytecode</span></tt>.</p>
<p>Let's look at at example. If we have a bytecode that corresponds to the
following instructions:</p>
<pre class="literal-block">
pc |   instruction
---+---------------------
0  |  LOAD_INTEGER 0
2  |  DUP
3  |  PRINT
4  |  LOAD_INTEGER 1
6  |  ADD
7  |  JUMP_BACKWARD 6
</pre>
<p>This loop will print integers starting from 0 and going on from there. The
modified tracing JIT will unroll the bytecode dispatch until it sees the
<tt class="docutils literal"><span class="pre">JUMP_BACKWARD</span></tt> bytecode. After that bytecode the <tt class="docutils literal"><span class="pre">pc</span></tt> will be 2 again. Thus
the earlier position key is repeated, which means that the loop will be closed.
The produced machine code will do the equivalent of the following Java code:</p>
<pre class="literal-block">
...
guard_true(pc == 2)
guard_true(bytecode == "... correct bytecode string ...")
while (true) {
    instruction = bytecode.charAt(pc);
    pc += 1;
    guard_true(instruction == DUP);
    stack.push(stack.peek());

    instruction = bytecode.charAt(pc);
    pc += 1;
    guard_true(instruction == PRINT);
    do_print(stack.pop());

    instruction = bytecode.charAt(pc);
    pc += 1;
    guard_true(instruction == LOAD_INTEGER)
    value = (int)bytecode.charAt(pc);
    pc += 1
    stack.push(W_Integer(value))

    instruction = bytecode.charAt(pc);
    pc += 1;
    guard_true(instruction == ADD)
    arg2 = stack.pop()
    arg1 = stack.pop()
    stack.push(do_addition(arg1, arg2))

    instruction = bytecode.charAt(pc);
    pc += 1;
    guard_true(instruction == JUMP_BACKWARD)
    pc -= (int)bytecode.charAt(pc);
}
</pre>
<p>This is machine code that essentially does what the bytecode above did. Of
course the code still remains some remnants of the interpreter (like the program
counter manipulations, the stack handling, etc), which would have to be removed
by some clever enough optimization step. If this were done, result would look a
lot more natural.</p>
<h2><a id="summary" name="summary">Summary</a></h2>
<p>If a tracing JIT is enhanced by a way to influence its loop-closing behaviour we
can significantly improve its performance when the jitted program is itself an
interpreter. The result is that in such a case the produced machine code
will correspond to the functions that are being interpreted, not to the code of
the interpreter itself.</p>
<p>Now, what does all this have to do with PyPy? What we are working on since a
while is a sort of tracing JIT for RPython which allows to be customized with a
function very similar to the <tt class="docutils literal"><span class="pre">add_to_position_key</span></tt> described above. This will
make it possible to make the tracing JIT generate code that corresponds to the
code that the interpreter interprets. For example, we would add a call to
<tt class="docutils literal"><span class="pre">add_to_position_key</span></tt> to SPy, PyPy's Smalltalk VM. Then the tracing JIT will
produce machine code for Smalltalk-level loops, with all the usual benefits of a
tracing JIT (like inlining of intermediate methods, constant-folding, ...).
This JIT differs from normal tracing JITs in that it also supports very powerful
constant-folding and allocation-removal optimizations. Those optimizations will
(hopefully) be the content of a later blog post.</p>
<p>The basics of this process have been working fine since quite a while. What the
work currently focuses on is to improve the optimizers to remove not only the
bytecode manipulation code, but also the stack handling, and a large number of
other inefficiencies.</p>
    </div>
    </article><div class="comment-level comment-level-1">
      <div class="comment comment-6213116918081541944">
        <div class="comment-header">
          <a name="comment-6213116918081541944"></a>
            <span class="author">Benjamin Peterson</span> wrote on <span class="date">2009-03-03 03:04</span>:
        </div>
        <div class="comment-content">
          <p>Wow, that's very cool! PyPy is an amazing novel project, but how did you guys ever think of this?</p>
        </div>
      </div>
      <div class="comment comment-102432360547621553">
        <div class="comment-header">
          <a name="comment-102432360547621553"></a>
            <span class="author">Unknown</span> wrote on <span class="date">2009-03-03 13:47</span>:
        </div>
        <div class="comment-content">
          <p>great explanaition.. thanks!</p>
        </div>
      </div>
      <div class="comment comment-5513845136120198723">
        <div class="comment-header">
          <a name="comment-5513845136120198723"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2009-03-03 15:01</span>:
        </div>
        <div class="comment-content">
          <p>Very nice. You might want to have a look at <a href="https://people.csail.mit.edu/gregs/dynamorio.html" rel="nofollow"> Sullivan, et al (2003) Dynamic Native Optimization of Interpreters</a>. They also identify the need to record not only the native PC but also the interpreter's virtual PC to identify useful trace heads. They provide three intrinsic functions (compared to your single <i>add_to_position_key</i>) to achieve this. Further, they provide three more intrinsics to support constant propagation.</p>
        </div>
      </div>
      <div class="comment comment-6445525016253631324">
        <div class="comment-header">
          <a name="comment-6445525016253631324"></a>
            <span class="author">Carl Friedrich Bolz-Tereick</span> wrote on <span class="date">2009-03-04 15:27</span>:
        </div>
        <div class="comment-content">
          <p>Wow, that's extremely interesting! It's indeed very similar to what I describe in the blog post (apparently Armin knew of the paper, but I didn't). Of course they are severely hampered by the fact that the system is working on assembler level, so they don't really have enough information available to do really interesting optimizations.</p>
        </div>
      </div>
         </div>

    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/2009/03/next-leysin-winter-sprint-1791506307881043273.html" class="u-url">The next Leysin Winter Sprint</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="../authors/armin-rigo.html">Armin Rigo</a>
            </span></p>
            <p class="dateline">
            <a href="../posts/2009/03/next-leysin-winter-sprint-1791506307881043273.html" rel="bookmark">
            <time class="published dt-published" datetime="2009-03-02T15:52:00Z" itemprop="datePublished" title="2009-03-02 15:52">2009-03-02 15:52</time></a>
            </p>
            
        </div>
    </header><div class="p-summary entry-summary">
    <h2>PyPy Leysin Winter Sprint (14-21th April 2009)</h2>

<p>The next PyPy sprint will be in Leysin, Switzerland, for the
sixth time.  This sprint will take place immediately after
Easter.  This is a fully public sprint: newcomers and topics
other than those proposed below are welcome.</p>

<table border="0"><tbody><tr>
<td>
<img src="https://www.ermina.ch/002.JPG">
</td>
<td>

<ul>
<li>The overall idea of the sprint is to continue working on making PyPy ready
for general use.  There are a few tasks left in there.  In parallel, we
will continue the work on the JIT, if there is general interest.  And as
usual, we are ready to add any other task -- please mention on the mailing
list what you would like to work on; the list of task is not really fixed.</li>
<li>And as usual, the main side goal is to have fun in winter sports :-)
We can take a day off for ski until Sunday, the 19th; afterwards, the
installations close.  (There was quite a lot of snow this winter, so
there should be some left even though it's relatively late in the season.)</li>
</ul>
</td>
</tr></tbody></table>
<p>For more information <a href="https://codespeak.net/pypy/extradoc/sprintinfo/leysin-winter-2009/announcement.html">see the announcement.</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/2009/02/wroclaw-2009-sprint-progress-report-2510073170049635489.html" class="u-url">Wroclaw 2009 sprint progress report</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="../authors/maciej-fijalkowski.html">Maciej Fijalkowski</a>
            </span></p>
            <p class="dateline">
            <a href="../posts/2009/02/wroclaw-2009-sprint-progress-report-2510073170049635489.html" rel="bookmark">
            <time class="published dt-published" datetime="2009-02-13T11:54:00Z" itemprop="datePublished" title="2009-02-13 11:54">2009-02-13 11:54</time></a>
            </p>
                <p class="commentline">4 comments</p>

        </div>
    </header><div class="p-summary entry-summary">
    <p>Hello.<br><br>

We have just finished probably the smallest sprint ever
in PyPy history. For most of the time it was just me
and Armin pairing together.<br><br>

We also had a chance to work a bit with people from
the University, but there were definitely not enough
core developers to organize the work in a reasonable
manner. At some point we ended up having two pairs containing
four people each.<br><br>

Jakub and Bartosz (who were our gentle hosts) worked
on getting PyPy's sandbox integrated with django.
It's still just an example what you can do (ie you
can do much more), but it's already interesting to look
at. The code can be found in <a href="https://codespeak.net/svn/user/getxsick/django-sandbox/">user dir</a>. This server (not yet online anywhere, sorry)
is able to run untrusted python code provided by user inside
a fully configurable sandbox.<br><br>

We also implemented missing peepholer optimizations from
CPython, finding out that some peepholer tests were failing,
just because PyPy is optimizing better :-)<br><br>

The main part of the sprint was work on JIT (most notable the fifth
generation of the JIT), which was moved
from the obscure directory in Carl's user in svn (which contains
branches these days!) into a <a href="https://codespeak.net/svn/pypy/branch/pyjitpl5/">PyPy branch</a>. It's still very much
work in progress and a lot of pen and paper or handwaving was
involved, but we were able to implement a lot of basics in record time.
<br><br>
Right now we need a lot of rest after the exhaustive sprint,
but after that, stay tuned for more information about
progressing JIT!<br><br>

Cheers,<br>
fijal</p>
    </div>
    </article><div class="comment-level comment-level-1">
      <div class="comment comment-9066951010602380561">
        <div class="comment-header">
          <a name="comment-9066951010602380561"></a>
            <span class="author">Michael Foord</span> wrote on <span class="date">2009-02-14 14:14</span>:
        </div>
        <div class="comment-content">
          <p>Great to see both concrete work on the JIT and some practical applications for PyPy making progress. Keep up the good work.<br><br>See you at PyCon.</p>
        </div>
      </div>
      <div class="comment comment-6574515107615630197">
        <div class="comment-header">
          <a name="comment-6574515107615630197"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2009-02-16 08:47</span>:
        </div>
        <div class="comment-content">
          <p>Great to see the JIT evolving.<br><br>Zejn</p>
        </div>
      </div>
      <div class="comment comment-6654563026807061220">
        <div class="comment-header">
          <a name="comment-6654563026807061220"></a>
            <span class="author">Olle Jonsson</span> wrote on <span class="date">2009-02-21 01:51</span>:
        </div>
        <div class="comment-content">
          <p>Huzzah! And yay for practical apps.</p>
        </div>
      </div>
      <div class="comment comment-6319928382174784269">
        <div class="comment-header">
          <a name="comment-6319928382174784269"></a>
            <span class="author">stuaxo</span> wrote on <span class="date">2009-02-24 12:48</span>:
        </div>
        <div class="comment-content">
          <p>Great to see progress being made on this :)</p>
        </div>
      </div>
         </div>

    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/2009/01/wroclaw-2009-pypy-sprint-and-talk-8240928228677982487.html" class="u-url">Wroclaw 2009 PyPy sprint and talk</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="../authors/maciej-fijalkowski.html">Maciej Fijalkowski</a>
            </span></p>
            <p class="dateline">
            <a href="../posts/2009/01/wroclaw-2009-pypy-sprint-and-talk-8240928228677982487.html" rel="bookmark">
            <time class="published dt-published" datetime="2009-01-14T08:49:00Z" itemprop="datePublished" title="2009-01-14 08:49">2009-01-14 08:49</time></a>
            </p>
            
        </div>
    </header><div class="p-summary entry-summary">
    <p>The next PyPy sprint will be held in Wrocław, Poland 7-14th February 2009. This is fully public
sprint and all newcomers are welcomed. Preceeding the sprint there
will be a talk at University of Technology in Wrocław held at 22nd of January.</p>

<p>For detailed info about the sprint, look <a href="https://codespeak.net/svn/pypy/extradoc/sprintinfo/wroclaw2009/announcement.txt">here</a>.</p>

<p>The talk will be a general, high-level overview about PyPy project. There is a very nice poster, made by Jakub Gustak and Bartosz Skowron (in polish):</p>

<a href="https://3.bp.blogspot.com/_5R1EBmwBBTs/SW2oEzPUiTI/AAAAAAAAABo/ZjHtW4JAEqE/s1600-h/pypy-pwr.png"><img alt="" border="0" id="BLOGGER_PHOTO_ID_5291069937657612594" src="https://3.bp.blogspot.com/_5R1EBmwBBTs/SW2oEzPUiTI/AAAAAAAAABo/ZjHtW4JAEqE/s400/pypy-pwr.png" style="display: block; margin: 0px auto 10px; text-align: center; cursor: pointer; cursor: hand; width: 283px; height: 400px;"></a>

Talk details:
<ul>
<li>Location: Politechnika Wrocławska, budynek C-13, sala 0.31</li>
<li>
</li>
<li>Date: 22nd January 2009, 19:00</li>
<li>Language: very likely polish, although talk can be as well in english if some non-polish native would show up.
</li>
</ul>

Cheers,<br>
fijal
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../posts/2008/12/pycon-2009-9090464449197911432.html" class="u-url">Pycon 2009</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="../authors/maciej-fijalkowski.html">Maciej Fijalkowski</a>
            </span></p>
            <p class="dateline">
            <a href="../posts/2008/12/pycon-2009-9090464449197911432.html" rel="bookmark">
            <time class="published dt-published" datetime="2008-12-19T14:30:00Z" itemprop="datePublished" title="2008-12-19 14:30">2008-12-19 14:30</time></a>
            </p>
                <p class="commentline">3 comments</p>

        </div>
    </header><div class="p-summary entry-summary">
    <p>Hello.<br><br></p>
<p>
Both of our PyPy talks has been accepted for <a href="https://us.pycon.org">Pycon US 2009</a>. Although both
are somehow related to PyPy, they're vastly different in
topics, attitude and target audience.</p>
<p>
The first one is a classic PyPy status talk - we'll mostly talk about
our achievements from the last year (readers of this blog are aware of most,
but not all :) as well as some general introduction and plans for the future.
</p>
<p>
The second one is about PyPy's sandboxing features. This is in my opinion
a very underestimated feature, also by us, because it's not really well
advertised or documented. The main purpose of the talk is to present
to the general public how this works and how to use it.  Hopefully we will
get to work and publish about this a bit more ahead of Pycon already. 
Unlike Zope's Restricted Python, it provides you with the full python
language, inside a fully
virtualized sandbox, controlled from an external process by a custom
security policy. Stay tuned for more :-)
</p>
<p>
See you at Pycon 2009!
</p>
<p>
Cheers,<br>
fijal and holger
</p>
    </div>
    </article><div class="comment-level comment-level-1">
      <div class="comment comment-1858428732237331910">
        <div class="comment-header">
          <a name="comment-1858428732237331910"></a>
            <span class="author">Alex</span> wrote on <span class="date">2008-12-24 07:17</span>:
        </div>
        <div class="comment-content">
          <p>Can't wait to hear it, Fijal gave a fantastic talk last year and I'm excited for this year's as well.  Really hoping it doesn't conflict with my panel :)</p>
        </div>
      </div>
      <div class="comment comment-6102281106827791880">
        <div class="comment-header">
          <a name="comment-6102281106827791880"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2009-01-07 10:24</span>:
        </div>
        <div class="comment-content">
          <p>hi,<br><br>would you have somrthing to say about that ?:<br><br>https://www.python-forum.org/pythonforum/viewtopic.php?f=1&amp;t=10744&amp;sid=304ad6507b0db8420ae1df9f6c1522cd<br><br>thx</p>
        </div>
      </div>
      <div class="comment comment-8088866641196690710">
        <div class="comment-header">
          <a name="comment-8088866641196690710"></a>
            <span class="author">Maciej Fijalkowski</span> wrote on <span class="date">2009-01-10 09:03</span>:
        </div>
        <div class="comment-content">
          <p>Well, I'm not really up to discuss with some rants.<br><br>cheers,<br>fijal</p>
        </div>
      </div>
         </div>

</div>
</div>
<div class="sidebar">
<div>
  <h2>
    The PyPy blogposts
  </h2>
  <div>
    Create a guest post via a PR to the <a href="https://github.com/pypy/pypy.org">source repo</a>
  </div>
</div>
    <div id="global-recent-posts">
    <h2>
      Recent Posts
    </h2>
    <ul class="post-list">
      <li>
        <a href="/posts/2025/07/pypy-v7320-release.html" class="listtitle">PyPy v7.3.20 release</a>
      </li>
      <li>
        <a href="/posts/2025/06/rpython-gc-allocation-speed.html" class="listtitle">How fast can the RPython GC allocate?</a>
      </li>
      <li>
        <a href="/posts/2025/04/prospero-in-rpython.html" class="listtitle">Doing the Prospero-Challenge in RPython</a>
      </li>
      <li>
        <a href="/posts/2025/02/pypy-v7319-release.html" class="listtitle">PyPy v7.3.19 release</a>
      </li>
      <li>
        <a href="/posts/2025/02/pypy-gc-sampling.html" class="listtitle">Low Overhead Allocation Sampling with VMProf in PyPy's GC</a>
      </li>
      <li>
        <a href="/posts/2025/02/pypy-v7318-release.html" class="listtitle">PyPy v7.3.18 release</a>
      </li>
      <li>
        <a href="/posts/2025/01/musings-tracing.html" class="listtitle">Musings on Tracing in PyPy</a>
      </li>
      <li>
        <a href="/posts/2025/01/towards-pypy311-an-update.html" class="listtitle">Towards PyPy3.11 - an update</a>
      </li>
      <li>
        <a href="/posts/2024/11/guest-post-final-encoding-in-rpython.html" class="listtitle">Guest Post: Final Encoding in RPython Interpreters</a>
      </li>
      <li>
        <a href="/posts/2024/10/jit-peephole-dsl.html" class="listtitle">A DSL for Peephole Transformation Rules of Integer Operations in the PyPy JIT</a>
      </li>
    </ul>
  </div>

          <div id="global-archive-list">
          <h2>
            Archives
          </h2>
          <ul class="archive-level archive-level-1">
            <li><a class="reference" href="/2007/">2007</a> (19)
            </li>
            <li><a class="reference" href="/2008/">2008</a> (62)
            </li>
            <li><a class="reference" href="/2009/">2009</a> (38)
            </li>
            <li><a class="reference" href="/2010/">2010</a> (44)
            </li>
            <li><a class="reference" href="/2011/">2011</a> (43)
            </li>
            <li><a class="reference" href="/2012/">2012</a> (44)
            </li>
            <li><a class="reference" href="/2013/">2013</a> (46)
            </li>
            <li><a class="reference" href="/2014/">2014</a> (22)
            </li>
            <li><a class="reference" href="/2015/">2015</a> (20)
            </li>
            <li><a class="reference" href="/2016/">2016</a> (20)
            </li>
            <li><a class="reference" href="/2017/">2017</a> (13)
            </li>
            <li><a class="reference" href="/2018/">2018</a> (12)
            </li>
            <li><a class="reference" href="/2019/">2019</a> (12)
            </li>
            <li><a class="reference" href="/2020/">2020</a> (9)
            </li>
            <li><a class="reference" href="/2021/">2021</a> (10)
            </li>
            <li><a class="reference" href="/2022/">2022</a> (13)
            </li>
            <li><a class="reference" href="/2023/">2023</a> (6)
            </li>
            <li><a class="reference" href="/2024/">2024</a> (13)
            </li>
            <li><a class="reference" href="/2025/">2025</a> (8)
            </li>
          </ul>
        </div>


          <div id="global-tag-list">
          <h2>
            Tags
          </h2>
          <ul>
            <li><a class="reference" href="/categories/arm.html">arm</a> (2)</li>
            <li><a class="reference" href="/categories/benchmarking.html">benchmarking</a> (1)</li>
            <li><a class="reference" href="/categories/casestudy.html">casestudy</a> (3)</li>
            <li><a class="reference" href="/categories/cli.html">cli</a> (1)</li>
            <li><a class="reference" href="/categories/compiler.html">compiler</a> (1)</li>
            <li><a class="reference" href="/categories/conda-forge.html">conda-forge</a> (1)</li>
            <li><a class="reference" href="/categories/cpyext.html">cpyext</a> (4)</li>
            <li><a class="reference" href="/categories/cpython.html">CPython</a> (3)</li>
            <li><a class="reference" href="/categories/ep2008.html">ep2008</a> (1)</li>
            <li><a class="reference" href="/categories/extension-modules.html">extension modules</a> (3)</li>
            <li><a class="reference" href="/categories/gc.html">gc</a> (3)</li>
            <li><a class="reference" href="/categories/guestpost.html">guestpost</a> (3)</li>
            <li><a class="reference" href="/categories/graalpython.html">GraalPython</a> (1)</li>
            <li><a class="reference" href="/categories/hpy.html">hpy</a> (1)</li>
            <li><a class="reference" href="/categories/heptapod.html">Heptapod</a> (1)</li>
            <li><a class="reference" href="/categories/jit.html">jit</a> (23)</li>
            <li><a class="reference" href="/categories/jython.html">jython</a> (1)</li>
            <li><a class="reference" href="/categories/kcachegrind.html">kcachegrind</a> (1)</li>
            <li><a class="reference" href="/categories/meta.html">meta</a> (1)</li>
            <li><a class="reference" href="/categories/numpy.html">numpy</a> (24)</li>
            <li><a class="reference" href="/categories/parser.html">parser</a> (1)</li>
            <li><a class="reference" href="/categories/performance.html">performance</a> (2)</li>
            <li><a class="reference" href="/categories/profiling.html">profiling</a> (7)</li>
            <li><a class="reference" href="/categories/pypy.html">pypy</a> (6)</li>
            <li><a class="reference" href="/categories/pypy3.html">pypy3</a> (16)</li>
            <li><a class="reference" href="/categories/pyqt4.html">PyQt4</a> (1)</li>
            <li><a class="reference" href="/categories/release.html">release</a> (66)</li>
            <li><a class="reference" href="/categories/releasecffi.html">releasecffi</a> (3)</li>
            <li><a class="reference" href="/categories/releaserevdb.html">releaserevdb</a> (1)</li>
            <li><a class="reference" href="/categories/releasestm.html">releasestm</a> (1)</li>
            <li><a class="reference" href="/categories/revdb.html">revdb</a> (1)</li>
            <li><a class="reference" href="/categories/roadmap.html">roadmap</a> (2)</li>
            <li><a class="reference" href="/categories/rpython.html">rpython</a> (1)</li>
            <li><a class="reference" href="/categories/rpyc.html">RPyC</a> (1)</li>
            <li><a class="reference" href="/categories/speed.html">speed</a> (6)</li>
            <li><a class="reference" href="/categories/sponsors.html">sponsors</a> (7)</li>
            <li><a class="reference" href="/categories/sprint.html">sprint</a> (3)</li>
            <li><a class="reference" href="/categories/sprints.html">sprints</a> (1)</li>
            <li><a class="reference" href="/categories/stm.html">stm</a> (14)</li>
            <li><a class="reference" href="/categories/sun.html">sun</a> (1)</li>
            <li><a class="reference" href="/categories/smalltalk.html">Smalltalk</a> (1)</li>
            <li><a class="reference" href="/categories/squeak.html">Squeak</a> (1)</li>
            <li><a class="reference" href="/categories/testing.html">testing</a> (1)</li>
            <li><a class="reference" href="/categories/toy-optimizer.html">toy-optimizer</a> (5)</li>
            <li><a class="reference" href="/categories/unicode.html">unicode</a> (1)</li>
            <li><a class="reference" href="/categories/valgrind.html">valgrind</a> (1)</li>
            <li><a class="reference" href="/categories/vmprof.html">vmprof</a> (3)</li>
            <li><a class="reference" href="/categories/z3.html">z3</a> (5)</li>
          </ul>
        </div></div>
</main>
</div>
<div style="clear: both; width: 75%; margin: 1em auto;">
        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-10.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-8.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
         
                 <footer id="footer"><p>
</p>
<div class="myfooter">
  <div class="logotext">
    © 2025 <a href="mailto:pypy-dev@pypy.org">The PyPy Team</a>
     
    Built with <a href="https://getnikola.com" rel="nofollow">Nikola</a>
     
    Last built 2025-07-07T11:01
  </div>
  <div style="margin-left: auto">
  <a href="../rss.xml">RSS feed</a>
</div>

            
        

    </div>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js" crossorigin="anonymous"></script><script src="../assets/js/styles.js"></script></footer>
</body>
</html>