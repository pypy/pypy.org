<html><body><p>We're pleased to announce PyPy 2.2, which targets version 2.7.3 of the Python language. This release main highlight is the introduction of the incremental garbage collector, sponsored by the <a class="reference external" href="http://www.raspberrypi.org/">Raspberry Pi Foundation</a>.<br>
This release also contains several bugfixes and performance improvements.<br>
You can download the PyPy 2.2 release here:<br>
</p><blockquote><a class="reference external" href="http://pypy.org/download.html">http://pypy.org/download.html</a></blockquote>We would like to thank our donors for the continued support of the PyPy project. We showed quite a bit of progress on all three projects (see below) and we're slowly running out of funds. Please consider donating more so we can finish those projects!  The three projects are:<br>
<ul class="simple"><li>Py3k (supporting Python 3.x): the release PyPy3 2.2 is imminent.</li>
<li>STM (software transactional memory): a preview will be released very soon, as soon as we fix a few bugs</li>
<li>NumPy: the work done is included in the PyPy 2.2 release. More details below.</li>
</ul><br>
<div class="section" id="what-is-pypy"><h2>What is PyPy?</h2>PyPy is a very compliant Python interpreter, almost a drop-in replacement for CPython 2.7. It's fast (<a class="reference external" href="http://speed.pypy.org/">pypy 2.2 and cpython 2.7.2</a> performance comparison) due to its integrated tracing JIT compiler.<br>
This release supports x86 machines running Linux 32/64, Mac OS X 64, Windows 32, or ARM (ARMv6 or ARMv7, with VFPv3).<br>
Work on the native Windows 64 is still stalling, we would welcome a volunteer to handle that.</div><br><div class="section" id="highlights"><h2>Highlights</h2><ul class="simple"><li>Our Garbage Collector is now "incremental".  It should avoid almost all pauses due to a major collection taking place.  Previously, it would pause the program (rarely) to walk all live objects, which could take arbitrarily long if your process is using a whole lot of RAM.  Now the same work is done in steps.  This should make PyPy more responsive, e.g. in games.  There are still other pauses, from the GC and the JIT, but they should be on the order of 5 milliseconds each.</li>
<li>The JIT counters for hot code were never reset, which meant that a process running for long enough would eventually JIT-compile more and more rarely executed code.  Not only is it useless to compile such code, but as more compiled code means more memory used, this gives the impression of a memory leak.  This has been tentatively fixed by decreasing the counters from time to time.</li>
<li>NumPy has been split: now PyPy only contains the core module, called <tt class="docutils literal">_numpypy</tt>.  The <tt class="docutils literal">numpy</tt> module itself has been moved to <tt class="docutils literal"><span class="pre">https://bitbucket.org/pypy/numpy</span></tt> and <tt class="docutils literal">numpypy</tt> disappeared. You need to install NumPy separately with a virtualenv: <tt class="docutils literal">pip install <span class="pre">git+https://bitbucket.org/pypy/numpy.git</span></tt>; or directly: <tt class="docutils literal">git clone <span class="pre">https://bitbucket.org/pypy/numpy.git;</span> cd numpy; pypy setup.py install</tt>.</li>
<li>non-inlined calls have less overhead</li>
<li>Things that use <tt class="docutils literal">sys.set_trace</tt> are now JITted (like coverage)</li>
<li>JSON decoding is now very fast (JSON encoding was already very fast)</li>
<li>various buffer copying methods experience speedups (like list-of-ints to <tt class="docutils literal">int[]</tt> buffer from cffi)</li>
<li>We finally wrote (hopefully) all the missing <tt class="docutils literal">os.xxx()</tt> functions, including <tt class="docutils literal">os.startfile()</tt> on Windows and a handful of rare ones on Posix.</li>
<li>numpy has a rudimentary C API that cooperates with <tt class="docutils literal">cpyext</tt></li>
</ul>Cheers,<br>
Armin Rigo and Maciej Fijalkowski</div></body></html>