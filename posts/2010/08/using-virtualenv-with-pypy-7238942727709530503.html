<!DOCTYPE html>
<html \ prefix="
        og: http://ogp.me/ns# article: http://ogp.me/ns/article#
    " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Using virtualenv with PyPy | PyPy</title>
<link href="../../../assets/css/rst_base.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/nikola_rst.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/styles.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../../rss.xml">
<link rel="canonical" href="https://www.pypy.org/posts/2010/08/using-virtualenv-with-pypy-7238942727709530503.html">
<link rel="icon" href="../../../favicon2.ico" sizes="16x16">
<link rel="icon" href="../../../favicon32x32.ico" sizes="32x32">
<!--[if lt IE 9]><script src="../../../assets/js/html5shiv-printshiv.min.js"></script><![endif]--><link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="../../../assets/css/tipuesearch.css">
<meta name="author" content="Antonio Cuni">
<link rel="prev" href="../07/play-on-regular-expression-9014941705636345998.html" title="A Play on Regular Expression" type="text/html">
<link rel="next" href="pyohio-2568618480482575546.html" title="PyOhio" type="text/html">
<meta property="og:site_name" content="PyPy">
<meta property="og:title" content="Using virtualenv with PyPy">
<meta property="og:url" content="https://www.pypy.org/posts/2010/08/using-virtualenv-with-pypy-7238942727709530503.html">
<meta property="og:description" content="Thanks to the work that was recently done on the sys-prefix branch, it is
now possible to use virtualenv with PyPy.
To try it, you need:


a recent version of PyPy: PyPy 1.3 does not contain the neces">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2010-08-02T14:55:00Z">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div id="container">
             <header id="header"><!-- Adapted from https://www.taniarascia.com/responsive-dropdown-navigation-bar --><section class="navigation"><div class="nav-container">
            <div class="brand">
                <a href="../../../index.html">
                    <image id="toplogo" src="../../../images/pypy-logo.svg" width="75px;" alt="PyPy/"></image></a>
            </div>
            <nav><ul class="nav-list">
<li> 
                <a href="#!">Features</a>
                <ul class="nav-dropdown">
<li> <a href="../../../features.html">What is PyPy?</a> </li>  
                    <li> <a href="../../../compat.html">Compatibility</a> </li>  
                    <li> <a href="../../../performance.html">Performance</a> </li>  
                </ul>
</li>
          <li> <a href="../../../download.html">Download</a> </li>  
          <li> <a href="http://doc.pypy.org">Dev Docs</a> </li>  
            <li> 
                <a href="#!">Blog</a>
                <ul class="nav-dropdown">
<li> <a href="../../../blog/">Index</a> </li>  
                    <li> <a href="../../../categories/">Tags</a> </li>  
                    <li> <a href="../../../archive.html">Archive by year</a> </li>  
                    <li> <a href="../../../rss.xml">RSS feed</a> </li>  
                    <li> <a href="https://morepypy.blogspot.com/">Old site</a> </li>  
                </ul>
</li>
            <li> 
                <a href="#!">About</a>
                <ul class="nav-dropdown">
<li> <a href="https://bsky.app/profile/pypyproject.bsky.social">Bluesky</a> </li>  
                    <li> <a href="https://libera.irclog.whitequark.org/pypy">IRC logs</a> </li>  
                    <li> <a href="https://www.youtube.com/playlist?list=PLADqad94yVqDRQXuqxKrPS5QnVqbDLlRt">YouTube</a> </li>  
                    <li> <a href="https://www.twitch.tv/pypyproject">Twitch</a> </li>  
                    <li> <a href="../../../pypy-sponsors.html">Sponsors</a> </li>  
                    <li> <a href="../../../howtohelp.html">How To Help?</a> </li>  
                    <li> <a href="../../../contact.html">Contact</a> </li>  
                </ul>
</li>

                </ul></nav><div class="nav-mobile">
                <a id="nav-toggle" href="#!"> <span></span></a>
            </div>
        </div>
    </section><div class="searchform" role="search">
                
<form class="navbar-form navbar-left" action="../../../search.html" role="search">
    <div class="form-group">
        <input type="text" class="form-control" id="tipue_search_input" name="q" placeholder="Search…" autocomplete="off">
</div>
    <input type="submit" value="Local Search" style="visibility: hidden;">
</form>

            </div>
    </header><main id="content"><article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><div class="post">
          <header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Using virtualenv with PyPy</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../../authors/antonio-cuni.html">Antonio Cuni</a>
            </span></p>
            <p class="dateline">
            <a href="#" rel="bookmark">
            <time class="published dt-published" datetime="2010-08-02T14:55:00Z" itemprop="datePublished" title="2010-08-02 14:55">2010-08-02 14:55</time></a>
            </p>
                <p class="commentline">11 comments</p>

                <p class="commentline">            <a href="using-virtualenv-with-pypy-7238942727709530503.html#utterances-thread">Comments</a>


            
        </p>
</div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
      <p>Thanks to the work that was recently done on the <a class="reference external" href="https://codespeak.net/pipermail/pypy-svn/2010-June/041686.html">sys-prefix</a> branch, it is
now possible to use <a class="reference external" href="https://pypi.python.org/pypi/virtualenv">virtualenv</a> with PyPy.</p>
<p>To try it, you need:</p>
<blockquote>
<ul class="simple">
<li>a recent version of PyPy: PyPy 1.3 does not contain the necessary logic to
work with virtualenv, so you need a more recent PyPy from subversion
trunk. You can either <a class="reference external" href="https://codespeak.net/pypy/dist/pypy/doc/getting-started-python.html#translating-the-pypy-python-interpreter">build it by yourself</a> or download one of our
precompiled <a class="reference external" href="https://buildbot.pypy.org/nightly/trunk/">nightly builds</a>
</li>
<li>a copy of <a class="reference external" href="https://bitbucket.org/antocuni/virtualenv-pypy/">virtualenv-pypy</a>: this is a fork of virtualenv that contains
all the patches needed to work with PyPy, and hopefully will be <a class="reference external" href="https://bitbucket.org/ianb/virtualenv/issue/53/virtualenv-with-pypy">merged
back</a> at some point.  It should be totally compatible with the official
version of virtualenv, so it is safe to use it even to create non-PyPy
environments.  If you notice some weird behavior that does not happen with
the standard virtualenv, please let us know.</li>
</ul>
</blockquote>
<p>The directory layout has been redesigned in a way that it is possible to use
virtualenv to install a PyPy both from a precompiled tarball or from an svn
checkout:</p>
<pre class="literal-block">
# from a tarball
$ virtualenv -p /opt/pypy-c-jit-76426-linux/bin/pypy my-pypy-env

# from the svn checkout
$ virtualenv -p /path/to/pypy-trunk/pypy/translator/goal/pypy-c my-pypy-env
</pre>
<p>Once the environment has been created, you can enter it as usual. Note that
<tt class="docutils literal">bin/python</tt> is now a symlink to <tt class="docutils literal">bin/pypy</tt>.</p>
<p>Enjoy it :-)</p>
      </div>
      <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../07/play-on-regular-expression-9014941705636345998.html" rel="prev" title="A Play on Regular Expression">Previous post</a>
            </li>
            <li class="next">
                <a href="pyohio-2568618480482575546.html" rel="next" title="PyOhio">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
                <div class="comment-level comment-level-1">
      <div class="comment comment-3091256415441189845">
        <div class="comment-header">
          <a name="comment-3091256415441189845"></a>
            <span class="author">René Dudfield</span> wrote on <span class="date">2010-08-02 17:13</span>:
        </div>
        <div class="comment-content">
          <p>Another great step for pypy being used in more productions.</p>
        </div>
      </div>
      <div class="comment comment-1568446058480949985">
        <div class="comment-header">
          <a name="comment-1568446058480949985"></a>
            <span class="author">Konrad</span> wrote on <span class="date">2010-08-03 17:50</span>:
        </div>
        <div class="comment-content">
          <p>Good job!</p>
        </div>
      </div>
      <div class="comment comment-6218103162675511050">
        <div class="comment-header">
          <a name="comment-6218103162675511050"></a>
            <span class="author">Alexei Boronine</span> wrote on <span class="date">2010-08-05 16:22</span>:
        </div>
        <div class="comment-content">
          <p>I recently made a script called <a href="https://github.com/alexeiboronine/pypyenv" rel="nofollow">pypyenv</a> for easily installing PyPy in a virtualenv side by side with CPython, sharing site-packages. It will allow one to experiment with PyPy in a working virtualenv without breaking current code.</p>
        </div>
      </div>
      <div class="comment comment-8756700725521226531">
        <div class="comment-header">
          <a name="comment-8756700725521226531"></a>
            <span class="author">Antonio Cuni</span> wrote on <span class="date">2010-08-05 19:16</span>:
        </div>
        <div class="comment-content">
          <p>@Alex: nice. pypyenv is obviously something different that virtualenv-pypy, but it might be useful if someone wants to try PyPy.<br><br>However, I don't think that sharing site-packages is a good idea: it works as long as you have only pure python packages, but it stops as soon as you build some C extension, as the .so produced by PyPy are incompatible with CPython</p>
        </div>
      </div>
      <div class="comment comment-8474667846161975813">
        <div class="comment-header">
          <a name="comment-8474667846161975813"></a>
            <span class="author">Alexei Boronine</span> wrote on <span class="date">2010-08-06 00:58</span>:
        </div>
        <div class="comment-content">
          <p>@Antonio<br><br>Interesting point, I'll mention it in the README. (by the way, thank you for your work, PyPy rocks my socks!)</p>
        </div>
      </div>
      <div class="comment comment-6109587195824817825">
        <div class="comment-header">
          <a name="comment-6109587195824817825"></a>
            <span class="author">Xiong Chiamiov</span> wrote on <span class="date">2010-08-11 23:31</span>:
        </div>
        <div class="comment-content">
          <p>A bit unrelated, but would it be possible to have nightly releases with consistent filenames?  Right now, they all include the svn revision number (I assume that's what it is), which makes it difficult to write a script that downloads and installs the latest version.<br><br>Specifically, I'm looking to create an Arch pkgbuild, because it takes too damn long to compile on my notebook, and I don't want to use the stable release.</p>
        </div>
      </div>
      <div class="comment comment-6123819019957554380">
        <div class="comment-header">
          <a name="comment-6123819019957554380"></a>
            <span class="author">jezdez</span> wrote on <span class="date">2010-09-03 15:10</span>:
        </div>
        <div class="comment-content">
          <p>FYI, the fixes have been merged in virtualenv's main repo.</p>
        </div>
      </div>
      <div class="comment comment-1562616395915689333">
        <div class="comment-header">
          <a name="comment-1562616395915689333"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2011-12-14 10:28</span>:
        </div>
        <div class="comment-content">
          <p>it seems there's no pypy/translator/goal/pypy-c anymore?<br>how to init virtualenv from pypy source now?</p>
        </div>
      </div>
      <div class="comment comment-6347350920860936668">
        <div class="comment-header">
          <a name="comment-6347350920860936668"></a>
            <span class="author">Maciej Fijalkowski</span> wrote on <span class="date">2011-12-14 10:31</span>:
        </div>
        <div class="comment-content">
          <p>It's not in a checkout you have to compile it first.</p>
        </div>
      </div>
      <div class="comment comment-2976979927870935163">
        <div class="comment-header">
          <a name="comment-2976979927870935163"></a>
            <span class="author">Asmo</span> wrote on <span class="date">2012-04-20 12:47</span>:
        </div>
        <div class="comment-content">
          <p>Is the information here still valid? Or should virtualenv work fine with pypy?</p>
        </div>
      </div>
      <div class="comment comment-2827880163008510084">
        <div class="comment-header">
          <a name="comment-2827880163008510084"></a>
            <span class="author">Maciej Fijalkowski</span> wrote on <span class="date">2012-04-20 12:50</span>:
        </div>
        <div class="comment-content">
          <p>Virtualenv should work just fine</p>
        </div>
      </div>
         </div>

          </section>
</div>
    <div class="sidebar">
<div>
  <h2>
    The PyPy blogposts
  </h2>
  <div>
    Create a guest post via a PR to the <a href="https://github.com/pypy/pypy.org">source repo</a>
  </div>
</div>
    <div id="global-recent-posts">
    <h2>
      Recent Posts
    </h2>
    <ul class="post-list">
      <li>
        <a href="/posts/2025/07/pypy-v7320-release.html" class="listtitle">PyPy v7.3.20 release</a>
      </li>
      <li>
        <a href="/posts/2025/06/rpython-gc-allocation-speed.html" class="listtitle">How fast can the RPython GC allocate?</a>
      </li>
      <li>
        <a href="/posts/2025/04/prospero-in-rpython.html" class="listtitle">Doing the Prospero-Challenge in RPython</a>
      </li>
      <li>
        <a href="/posts/2025/02/pypy-v7319-release.html" class="listtitle">PyPy v7.3.19 release</a>
      </li>
      <li>
        <a href="/posts/2025/02/pypy-gc-sampling.html" class="listtitle">Low Overhead Allocation Sampling with VMProf in PyPy's GC</a>
      </li>
      <li>
        <a href="/posts/2025/02/pypy-v7318-release.html" class="listtitle">PyPy v7.3.18 release</a>
      </li>
      <li>
        <a href="/posts/2025/01/musings-tracing.html" class="listtitle">Musings on Tracing in PyPy</a>
      </li>
      <li>
        <a href="/posts/2025/01/towards-pypy311-an-update.html" class="listtitle">Towards PyPy3.11 - an update</a>
      </li>
      <li>
        <a href="/posts/2024/11/guest-post-final-encoding-in-rpython.html" class="listtitle">Guest Post: Final Encoding in RPython Interpreters</a>
      </li>
      <li>
        <a href="/posts/2024/10/jit-peephole-dsl.html" class="listtitle">A DSL for Peephole Transformation Rules of Integer Operations in the PyPy JIT</a>
      </li>
    </ul>
  </div>

          <div id="global-archive-list">
          <h2>
            Archives
          </h2>
          <ul class="archive-level archive-level-1">
            <li><a class="reference" href="/2007/">2007</a> (19)
            </li>
            <li><a class="reference" href="/2008/">2008</a> (62)
            </li>
            <li><a class="reference" href="/2009/">2009</a> (38)
            </li>
            <li><a class="reference" href="/2010/">2010</a> (44)
            </li>
            <li><a class="reference" href="/2011/">2011</a> (43)
            </li>
            <li><a class="reference" href="/2012/">2012</a> (44)
            </li>
            <li><a class="reference" href="/2013/">2013</a> (46)
            </li>
            <li><a class="reference" href="/2014/">2014</a> (22)
            </li>
            <li><a class="reference" href="/2015/">2015</a> (20)
            </li>
            <li><a class="reference" href="/2016/">2016</a> (20)
            </li>
            <li><a class="reference" href="/2017/">2017</a> (13)
            </li>
            <li><a class="reference" href="/2018/">2018</a> (12)
            </li>
            <li><a class="reference" href="/2019/">2019</a> (12)
            </li>
            <li><a class="reference" href="/2020/">2020</a> (9)
            </li>
            <li><a class="reference" href="/2021/">2021</a> (10)
            </li>
            <li><a class="reference" href="/2022/">2022</a> (13)
            </li>
            <li><a class="reference" href="/2023/">2023</a> (6)
            </li>
            <li><a class="reference" href="/2024/">2024</a> (13)
            </li>
            <li><a class="reference" href="/2025/">2025</a> (8)
            </li>
          </ul>
        </div>


          <div id="global-tag-list">
          <h2>
            Tags
          </h2>
          <ul>
            <li><a class="reference" href="/categories/arm.html">arm</a> (2)</li>
            <li><a class="reference" href="/categories/benchmarking.html">benchmarking</a> (1)</li>
            <li><a class="reference" href="/categories/casestudy.html">casestudy</a> (3)</li>
            <li><a class="reference" href="/categories/cli.html">cli</a> (1)</li>
            <li><a class="reference" href="/categories/compiler.html">compiler</a> (1)</li>
            <li><a class="reference" href="/categories/conda-forge.html">conda-forge</a> (1)</li>
            <li><a class="reference" href="/categories/cpyext.html">cpyext</a> (4)</li>
            <li><a class="reference" href="/categories/cpython.html">CPython</a> (3)</li>
            <li><a class="reference" href="/categories/ep2008.html">ep2008</a> (1)</li>
            <li><a class="reference" href="/categories/extension-modules.html">extension modules</a> (3)</li>
            <li><a class="reference" href="/categories/gc.html">gc</a> (3)</li>
            <li><a class="reference" href="/categories/guestpost.html">guestpost</a> (3)</li>
            <li><a class="reference" href="/categories/graalpython.html">GraalPython</a> (1)</li>
            <li><a class="reference" href="/categories/hpy.html">hpy</a> (1)</li>
            <li><a class="reference" href="/categories/heptapod.html">Heptapod</a> (1)</li>
            <li><a class="reference" href="/categories/jit.html">jit</a> (23)</li>
            <li><a class="reference" href="/categories/jython.html">jython</a> (1)</li>
            <li><a class="reference" href="/categories/kcachegrind.html">kcachegrind</a> (1)</li>
            <li><a class="reference" href="/categories/meta.html">meta</a> (1)</li>
            <li><a class="reference" href="/categories/numpy.html">numpy</a> (24)</li>
            <li><a class="reference" href="/categories/parser.html">parser</a> (1)</li>
            <li><a class="reference" href="/categories/performance.html">performance</a> (2)</li>
            <li><a class="reference" href="/categories/profiling.html">profiling</a> (7)</li>
            <li><a class="reference" href="/categories/pypy.html">pypy</a> (6)</li>
            <li><a class="reference" href="/categories/pypy3.html">pypy3</a> (16)</li>
            <li><a class="reference" href="/categories/pyqt4.html">PyQt4</a> (1)</li>
            <li><a class="reference" href="/categories/release.html">release</a> (66)</li>
            <li><a class="reference" href="/categories/releasecffi.html">releasecffi</a> (3)</li>
            <li><a class="reference" href="/categories/releaserevdb.html">releaserevdb</a> (1)</li>
            <li><a class="reference" href="/categories/releasestm.html">releasestm</a> (1)</li>
            <li><a class="reference" href="/categories/revdb.html">revdb</a> (1)</li>
            <li><a class="reference" href="/categories/roadmap.html">roadmap</a> (2)</li>
            <li><a class="reference" href="/categories/rpython.html">rpython</a> (1)</li>
            <li><a class="reference" href="/categories/rpyc.html">RPyC</a> (1)</li>
            <li><a class="reference" href="/categories/speed.html">speed</a> (6)</li>
            <li><a class="reference" href="/categories/sponsors.html">sponsors</a> (7)</li>
            <li><a class="reference" href="/categories/sprint.html">sprint</a> (3)</li>
            <li><a class="reference" href="/categories/sprints.html">sprints</a> (1)</li>
            <li><a class="reference" href="/categories/stm.html">stm</a> (14)</li>
            <li><a class="reference" href="/categories/sun.html">sun</a> (1)</li>
            <li><a class="reference" href="/categories/smalltalk.html">Smalltalk</a> (1)</li>
            <li><a class="reference" href="/categories/squeak.html">Squeak</a> (1)</li>
            <li><a class="reference" href="/categories/testing.html">testing</a> (1)</li>
            <li><a class="reference" href="/categories/toy-optimizer.html">toy-optimizer</a> (5)</li>
            <li><a class="reference" href="/categories/unicode.html">unicode</a> (1)</li>
            <li><a class="reference" href="/categories/valgrind.html">valgrind</a> (1)</li>
            <li><a class="reference" href="/categories/vmprof.html">vmprof</a> (3)</li>
            <li><a class="reference" href="/categories/z3.html">z3</a> (5)</li>
          </ul>
        </div>    </div>
</article></main><footer id="footer"><p>
</p>
<div class="myfooter">
  <div class="logotext">
    © 2025 <a href="mailto:pypy-dev@pypy.org">The PyPy Team</a>
     
    Built with <a href="https://getnikola.com" rel="nofollow">Nikola</a>
     
    Last built 2025-07-07T11:01
  </div>
  <div style="margin-left: auto">
  <a href="../../../rss.xml">RSS feed</a>
</div>

            
        

    </div>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js" crossorigin="anonymous"></script><script src="../../../assets/js/styles.js"></script></footer>
</div>
</body>
</html>