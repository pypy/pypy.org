<!DOCTYPE html>
<html \ prefix="
        og: http://ogp.me/ns# article: http://ogp.me/ns/article#
    " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Düsseldorf Sprint Report 2010 | PyPy</title>
<link href="../../../assets/css/rst_base.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/nikola_rst.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/styles.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../../rss.xml">
<link rel="canonical" href="https://www.pypy.org/posts/2010/10/dusseldorf-sprint-report-2010-371223200425847723.html">
<link rel="icon" href="../../../favicon2.ico" sizes="16x16">
<link rel="icon" href="../../../favicon32x32.ico" sizes="32x32">
<!--[if lt IE 9]><script src="../../../assets/js/html5shiv-printshiv.min.js"></script><![endif]--><link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="../../../assets/css/tipuesearch.css">
<meta name="author" content="Carl Friedrich Bolz-Tereick">
<link rel="prev" href="peace-of-green-4230271053903469504.html" title="The peace of green" type="text/html">
<link rel="next" href="../11/snake-which-bites-its-tail-pypy-jitting-5161284681004717142.html" title="A snake which bites its tail: PyPy JITting itself" type="text/html">
<meta property="og:site_name" content="PyPy">
<meta property="og:title" content="Düsseldorf Sprint Report 2010">
<meta property="og:url" content="https://www.pypy.org/posts/2010/10/dusseldorf-sprint-report-2010-371223200425847723.html">
<meta property="og:description" content="This years installment of the yearly PyPy Düsseldorf Sprint is drawing to a
close. As usual, we worked in the seminar room of the programming language
group at the University of Düsseldorf. The sprint">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2010-10-31T14:17:00Z">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div id="container">
             <header id="header"><!-- Adapted from https://www.taniarascia.com/responsive-dropdown-navigation-bar --><section class="navigation"><div class="nav-container">
            <div class="brand">
                <a href="../../../index.html">
                    <image id="toplogo" src="../../../images/pypy-logo.svg" width="75px;" alt="PyPy/"></image></a>
            </div>
            <nav><ul class="nav-list">
<li> 
                <a href="#!">Features</a>
                <ul class="nav-dropdown">
<li> <a href="../../../features.html">What is PyPy?</a> </li>  
                    <li> <a href="../../../compat.html">Compatibility</a> </li>  
                    <li> <a href="../../../performance.html">Performance</a> </li>  
                </ul>
</li>
          <li> <a href="../../../download.html">Download</a> </li>  
          <li> <a href="http://doc.pypy.org">Dev Docs</a> </li>  
            <li> 
                <a href="#!">Blog</a>
                <ul class="nav-dropdown">
<li> <a href="../../../blog/">Index</a> </li>  
                    <li> <a href="../../../categories/">Tags</a> </li>  
                    <li> <a href="../../../archive.html">Archive by year</a> </li>  
                    <li> <a href="../../../rss.xml">RSS feed</a> </li>  
                    <li> <a href="https://morepypy.blogspot.com/">Old site</a> </li>  
                </ul>
</li>
            <li> 
                <a href="#!">About</a>
                <ul class="nav-dropdown">
<li> <a href="https://bsky.app/profile/pypyproject.bsky.social">Bluesky</a> </li>  
                    <li> <a href="https://libera.irclog.whitequark.org/pypy">IRC logs</a> </li>  
                    <li> <a href="https://www.youtube.com/playlist?list=PLADqad94yVqDRQXuqxKrPS5QnVqbDLlRt">YouTube</a> </li>  
                    <li> <a href="https://www.twitch.tv/pypyproject">Twitch</a> </li>  
                    <li> <a href="../../../pypy-sponsors.html">Sponsors</a> </li>  
                    <li> <a href="../../../howtohelp.html">How To Help?</a> </li>  
                    <li> <a href="../../../contact.html">Contact</a> </li>  
                </ul>
</li>

                </ul></nav><div class="nav-mobile">
                <a id="nav-toggle" href="#!"> <span></span></a>
            </div>
        </div>
    </section><div class="searchform" role="search">
                
<form class="navbar-form navbar-left" action="../../../search.html" role="search">
    <div class="form-group">
        <input type="text" class="form-control" id="tipue_search_input" name="q" placeholder="Search…" autocomplete="off">
</div>
    <input type="submit" value="Local Search" style="visibility: hidden;">
</form>

            </div>
    </header><main id="content"><article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><div class="post">
          <header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Düsseldorf Sprint Report 2010</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../../authors/carl-friedrich-bolz-tereick.html">Carl Friedrich Bolz-Tereick</a>
            </span></p>
            <p class="dateline">
            <a href="#" rel="bookmark">
            <time class="published dt-published" datetime="2010-10-31T14:17:00Z" itemprop="datePublished" title="2010-10-31 14:17">2010-10-31 14:17</time></a>
            </p>
                <p class="commentline">6 comments</p>

                <p class="commentline">            <a href="dusseldorf-sprint-report-2010-371223200425847723.html#utterances-thread">Comments</a>


            
        </p>
</div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
      <a href="https://3.bp.blogspot.com/_zICyAWqZbLA/TM168_X40bI/AAAAAAAAAMY/Q65Oyd9ufRE/s1600/repo.png">
</a>
<p>This years installment of the yearly PyPy Düsseldorf Sprint is drawing to a
close. As usual, we worked in the seminar room of the <a class="reference external" href="https://www.stups.uni-duesseldorf.de/">programming language
group</a> at the University of Düsseldorf. The sprint was different from previous
ones in that we had fewer people than usual and many actually live in
Düsseldorf all the time.</p>
<p>David spent the sprint working on the <a class="reference external" href="https://codespeak.net/svn/pypy/branch/arm-backend/">arm-backend</a> branch, which is adding an
ARM backend to the JIT. With the help of Armin he added support for bridges in
the JIT and generally implemented missing operations, mostly for handling integers so far.</p>
<p>Ronny and Anto worked the whole week trying to come up with a scheme for
importing PyPy's SVN history into a mercurial repository without loosing too
much information. This is a non-trivial task, because PyPy's history is gnarly.
We are nearly at revision 79000 and when we started using it, Subversion was at
version 0.1. All possible and impossible ways to mangle and mistreat a
Subversion repository have been applied to PyPy's repo, so most of the
importing tools just give up. Ronny and Anto came up with a new plan and new
helper scripts every day, only to then discover another corner case that they
hadn't thought of. Now they might actually have a final plan (but they said
that every day, so who knows?).</p>
<a href="https://3.bp.blogspot.com/_zICyAWqZbLA/TM168_X40bI/AAAAAAAAAMY/Q65Oyd9ufRE/s1600/repo.png"><img alt="" border="0" id="BLOGGER_PHOTO_ID_5534214705330573746" src="https://3.bp.blogspot.com/_zICyAWqZbLA/TM168_X40bI/AAAAAAAAAMY/Q65Oyd9ufRE/s400/repo.png" style="display: block; margin: 0px auto 10px; text-align: center; cursor: pointer; width: 400px; height: 240px;">The branch history of PyPy's repository (every box is a branch)</a><p>Carl Friedrich and Lukas started working in earnest on memory benchmarks to
understand the memory behaviour of Python code better. They have now
implemented a generic memory benchmark runner and a simple analysis that walks
all objects and collects size information about them. They also added some
benchmarks that were proposed in the comments of the recent <a class="reference external" href="../08/call-for-benchmarks-2605012131351543912.html">call for
benchmarks</a>. As soon as some results from that work are there, we will post
about them.</p>
<p>There were also some minor tasks performed during the sprint. Armin implemented
the <tt class="docutils literal">_bisect</tt> module and the <tt class="docutils literal">dict.popitem</tt> method in RPython. Armin and
Carl Friedrich made the new memory-saving mapdict implementation more suitable
to use without the JIT (blog post should come about that too, at some point).
They also made classes with custom metaclasses a lot faster when the JIT is
used.</p>
<p>The last three days of the sprint were spent working on Håkan's
<a class="reference external" href="https://codespeak.net/svn/pypy/branch/jit-unroll-loops/">jit-unroll-loops</a> branch.  The branch is meant to move loop invariants out of
the loop, using techniques very similar to what is described in the recent post
on <a class="reference external" href="../09/using-escape-analysis-across-loop-2887031293132023676.html">escape analysis across loop boundaries</a> (see? it will soon stop being
science-fiction). Some of the ideas of this approach also come from <a class="reference external" href="https://luajit.org/">LuaJIT</a>
which also uses very aggressive loop invariant code motion in its optimizers.
Moving loop invariants outside of the loop is very useful, because many of the
lookups that Python programs do in loops are loop invariants. An example is if
you call a function in a loop: The global lookup can often be done only once.</p>
<p>This branch fundamentally changes some of the core assumptions of the JIT, so
it is a huge amount of work to make it fit with all the other parts and to
adapt all tests. That work is now nearly done, some failing tests remain. The
next steps are to fix them and then do additional tests with the translated
executable and look at the benchmarks.</p>
      </div>
      <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="peace-of-green-4230271053903469504.html" rel="prev" title="The peace of green">Previous post</a>
            </li>
            <li class="next">
                <a href="../11/snake-which-bites-its-tail-pypy-jitting-5161284681004717142.html" rel="next" title="A snake which bites its tail: PyPy JITting itself">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
                <div class="comment-level comment-level-1">
      <div class="comment comment-4351408054874491495">
        <div class="comment-header">
          <a name="comment-4351408054874491495"></a>
            <span class="author">Luis</span> wrote on <span class="date">2010-11-04 13:58</span>:
        </div>
        <div class="comment-content">
          <p>It's great to see improvements in pypy. At this moment, the only three benchmarks that perform better in cpython than in pypy are spitfire, slow spitfire and twisted_tcp.<br><br>What's the reason for the lower performance on these benchmarks? Is it the same reason for the three or there are multiple causes?<br><br>Luis</p>
        </div>
      </div>
      <div class="comment comment-603706658660129092">
        <div class="comment-header">
          <a name="comment-603706658660129092"></a>
            <span class="author">Maciej Fijalkowski</span> wrote on <span class="date">2010-11-04 14:03</span>:
        </div>
        <div class="comment-content">
          <p>Hey.<br><br>spitfire and slowspitfire are a 'won't fix' benchmarks (at least in the near future). The spitfire_cstringio is using the same thing, but cStringIO instead of a list of strings.<br><br>Twisted_tcp is slightly more complex and has something to do with pushing a lot of data through sockets. In pypy you usually have to copy data before write, because it can potentially be moved in the GC.<br><br>Cheers,<br>fijal</p>
        </div>
      </div>
      <div class="comment comment-6219139122131514560">
        <div class="comment-header">
          <a name="comment-6219139122131514560"></a>
            <span class="author">Luis</span> wrote on <span class="date">2010-11-04 19:46</span>:
        </div>
        <div class="comment-content">
          <p>Thanks! I suppose "won't fix" has a meaning in a pypy context. What does it mean?</p>
        </div>
      </div>
      <div class="comment comment-7743238805948786685">
        <div class="comment-header">
          <a name="comment-7743238805948786685"></a>
            <span class="author">Maciej Fijalkowski</span> wrote on <span class="date">2010-11-04 21:16</span>:
        </div>
        <div class="comment-content">
          <p>won't fix means we won't fix it ;-) To be precise it means we know this program is slow, but also there is a way to write this program to be fast, please use the other way.</p>
        </div>
      </div>
      <div class="comment comment-4405360531072260779">
        <div class="comment-header">
          <a name="comment-4405360531072260779"></a>
            <span class="author">Luis</span> wrote on <span class="date">2010-11-04 23:41</span>:
        </div>
        <div class="comment-content">
          <p>So it doesn't make much sense including these benchmarks in speed.pypy.org, don't you think?<br>Perhaps it should be described somewhere what are the strengths and weaknesses of this implementation, suggesting the right approach for each task. Something like "best practices" or something like that...</p>
        </div>
      </div>
      <div class="comment comment-6767848252444140373">
        <div class="comment-header">
          <a name="comment-6767848252444140373"></a>
            <span class="author">Maciej Fijalkowski</span> wrote on <span class="date">2010-11-05 07:36</span>:
        </div>
        <div class="comment-content">
          <p>I think deleting it from the nightly run doesn't make sense. It still measures something and helps us catch regressions.<br><br>The document you're proposing is actually a really neat idea. I've already did a couple of presentation on it, so it's only about gathering knowledge ("only").</p>
        </div>
      </div>
         </div>

          </section>
</div>
    <div class="sidebar">
<div>
  <h2>
    The PyPy blogposts
  </h2>
  <div>
    Create a guest post via a PR to the <a href="https://github.com/pypy/pypy.org">source repo</a>
  </div>
</div>
    <div id="global-recent-posts">
    <h2>
      Recent Posts
    </h2>
    <ul class="post-list">
      <li>
        <a href="/posts/2025/07/pypy-v7320-release.html" class="listtitle">PyPy v7.3.20 release</a>
      </li>
      <li>
        <a href="/posts/2025/06/rpython-gc-allocation-speed.html" class="listtitle">How fast can the RPython GC allocate?</a>
      </li>
      <li>
        <a href="/posts/2025/04/prospero-in-rpython.html" class="listtitle">Doing the Prospero-Challenge in RPython</a>
      </li>
      <li>
        <a href="/posts/2025/02/pypy-v7319-release.html" class="listtitle">PyPy v7.3.19 release</a>
      </li>
      <li>
        <a href="/posts/2025/02/pypy-gc-sampling.html" class="listtitle">Low Overhead Allocation Sampling with VMProf in PyPy's GC</a>
      </li>
      <li>
        <a href="/posts/2025/02/pypy-v7318-release.html" class="listtitle">PyPy v7.3.18 release</a>
      </li>
      <li>
        <a href="/posts/2025/01/musings-tracing.html" class="listtitle">Musings on Tracing in PyPy</a>
      </li>
      <li>
        <a href="/posts/2025/01/towards-pypy311-an-update.html" class="listtitle">Towards PyPy3.11 - an update</a>
      </li>
      <li>
        <a href="/posts/2024/11/guest-post-final-encoding-in-rpython.html" class="listtitle">Guest Post: Final Encoding in RPython Interpreters</a>
      </li>
      <li>
        <a href="/posts/2024/10/jit-peephole-dsl.html" class="listtitle">A DSL for Peephole Transformation Rules of Integer Operations in the PyPy JIT</a>
      </li>
    </ul>
  </div>

          <div id="global-archive-list">
          <h2>
            Archives
          </h2>
          <ul class="archive-level archive-level-1">
            <li><a class="reference" href="/2007/">2007</a> (19)
            </li>
            <li><a class="reference" href="/2008/">2008</a> (62)
            </li>
            <li><a class="reference" href="/2009/">2009</a> (38)
            </li>
            <li><a class="reference" href="/2010/">2010</a> (44)
            </li>
            <li><a class="reference" href="/2011/">2011</a> (43)
            </li>
            <li><a class="reference" href="/2012/">2012</a> (44)
            </li>
            <li><a class="reference" href="/2013/">2013</a> (46)
            </li>
            <li><a class="reference" href="/2014/">2014</a> (22)
            </li>
            <li><a class="reference" href="/2015/">2015</a> (20)
            </li>
            <li><a class="reference" href="/2016/">2016</a> (20)
            </li>
            <li><a class="reference" href="/2017/">2017</a> (13)
            </li>
            <li><a class="reference" href="/2018/">2018</a> (12)
            </li>
            <li><a class="reference" href="/2019/">2019</a> (12)
            </li>
            <li><a class="reference" href="/2020/">2020</a> (9)
            </li>
            <li><a class="reference" href="/2021/">2021</a> (10)
            </li>
            <li><a class="reference" href="/2022/">2022</a> (13)
            </li>
            <li><a class="reference" href="/2023/">2023</a> (6)
            </li>
            <li><a class="reference" href="/2024/">2024</a> (13)
            </li>
            <li><a class="reference" href="/2025/">2025</a> (8)
            </li>
          </ul>
        </div>


          <div id="global-tag-list">
          <h2>
            Tags
          </h2>
          <ul>
            <li><a class="reference" href="/categories/arm.html">arm</a> (2)</li>
            <li><a class="reference" href="/categories/benchmarking.html">benchmarking</a> (1)</li>
            <li><a class="reference" href="/categories/casestudy.html">casestudy</a> (3)</li>
            <li><a class="reference" href="/categories/cli.html">cli</a> (1)</li>
            <li><a class="reference" href="/categories/compiler.html">compiler</a> (1)</li>
            <li><a class="reference" href="/categories/conda-forge.html">conda-forge</a> (1)</li>
            <li><a class="reference" href="/categories/cpyext.html">cpyext</a> (4)</li>
            <li><a class="reference" href="/categories/cpython.html">CPython</a> (3)</li>
            <li><a class="reference" href="/categories/ep2008.html">ep2008</a> (1)</li>
            <li><a class="reference" href="/categories/extension-modules.html">extension modules</a> (3)</li>
            <li><a class="reference" href="/categories/gc.html">gc</a> (3)</li>
            <li><a class="reference" href="/categories/guestpost.html">guestpost</a> (3)</li>
            <li><a class="reference" href="/categories/graalpython.html">GraalPython</a> (1)</li>
            <li><a class="reference" href="/categories/hpy.html">hpy</a> (1)</li>
            <li><a class="reference" href="/categories/heptapod.html">Heptapod</a> (1)</li>
            <li><a class="reference" href="/categories/jit.html">jit</a> (23)</li>
            <li><a class="reference" href="/categories/jython.html">jython</a> (1)</li>
            <li><a class="reference" href="/categories/kcachegrind.html">kcachegrind</a> (1)</li>
            <li><a class="reference" href="/categories/meta.html">meta</a> (1)</li>
            <li><a class="reference" href="/categories/numpy.html">numpy</a> (24)</li>
            <li><a class="reference" href="/categories/parser.html">parser</a> (1)</li>
            <li><a class="reference" href="/categories/performance.html">performance</a> (2)</li>
            <li><a class="reference" href="/categories/profiling.html">profiling</a> (7)</li>
            <li><a class="reference" href="/categories/pypy.html">pypy</a> (6)</li>
            <li><a class="reference" href="/categories/pypy3.html">pypy3</a> (16)</li>
            <li><a class="reference" href="/categories/pyqt4.html">PyQt4</a> (1)</li>
            <li><a class="reference" href="/categories/release.html">release</a> (66)</li>
            <li><a class="reference" href="/categories/releasecffi.html">releasecffi</a> (3)</li>
            <li><a class="reference" href="/categories/releaserevdb.html">releaserevdb</a> (1)</li>
            <li><a class="reference" href="/categories/releasestm.html">releasestm</a> (1)</li>
            <li><a class="reference" href="/categories/revdb.html">revdb</a> (1)</li>
            <li><a class="reference" href="/categories/roadmap.html">roadmap</a> (2)</li>
            <li><a class="reference" href="/categories/rpython.html">rpython</a> (1)</li>
            <li><a class="reference" href="/categories/rpyc.html">RPyC</a> (1)</li>
            <li><a class="reference" href="/categories/speed.html">speed</a> (6)</li>
            <li><a class="reference" href="/categories/sponsors.html">sponsors</a> (7)</li>
            <li><a class="reference" href="/categories/sprint.html">sprint</a> (3)</li>
            <li><a class="reference" href="/categories/sprints.html">sprints</a> (1)</li>
            <li><a class="reference" href="/categories/stm.html">stm</a> (14)</li>
            <li><a class="reference" href="/categories/sun.html">sun</a> (1)</li>
            <li><a class="reference" href="/categories/smalltalk.html">Smalltalk</a> (1)</li>
            <li><a class="reference" href="/categories/squeak.html">Squeak</a> (1)</li>
            <li><a class="reference" href="/categories/testing.html">testing</a> (1)</li>
            <li><a class="reference" href="/categories/toy-optimizer.html">toy-optimizer</a> (5)</li>
            <li><a class="reference" href="/categories/unicode.html">unicode</a> (1)</li>
            <li><a class="reference" href="/categories/valgrind.html">valgrind</a> (1)</li>
            <li><a class="reference" href="/categories/vmprof.html">vmprof</a> (3)</li>
            <li><a class="reference" href="/categories/z3.html">z3</a> (5)</li>
          </ul>
        </div>    </div>
</article></main><footer id="footer"><p>
</p>
<div class="myfooter">
  <div class="logotext">
    © 2025 <a href="mailto:pypy-dev@pypy.org">The PyPy Team</a>
     
    Built with <a href="https://getnikola.com" rel="nofollow">Nikola</a>
     
    Last built 2025-07-07T11:01
  </div>
  <div style="margin-left: auto">
  <a href="../../../rss.xml">RSS feed</a>
</div>

            
        

    </div>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js" crossorigin="anonymous"></script><script src="../../../assets/js/styles.js"></script></footer>
</div>
</body>
</html>